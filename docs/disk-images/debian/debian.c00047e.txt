"""Find modules used by a script, using introspection."""

import dis
import importlib._bootstrap_external
import importlib.machinery
import marshal
import os
import io
import sys

# Old imp constants:

_SEARCH_ERROR = 0
_PY_SOURCE = 1
_PY_COMPILED = 2
_C_EXTENSION = 3
_PKG_DIRECTORY = 5
_C_BUILTIN = 6
_PY_FROZEN = 7

# Modulefinder does a good job at simulating Python's, but it can not
# handle __path__ modifications packages make at runtime.  Therefore there
# is a mechanism whereby you can register extra paths in this map for a
# package, and it will be honored.

# Note this is a mapping is lists of paths.
packagePathMap = {}

# A Public interface
def AddPackagePath(packagename, path):
    packagePathMap.setdefault(packagename, []).append(path)

replacePackageMap = {}

# This ReplacePackage mechanism allows modulefinder to work around
# situations in which a package injects itself under the name
# of another package into sys.modules at runtime by calling
# ReplacePackage("real_package_name", "faked_package_name")
# before running ModuleFinder.

def ReplacePackage(oldname, newname):
    replacePackageMap[oldname] = newname


def _find_module(name, path=None):
    """An importlib reimplementation of imp.find_module (for our purposes)."""

    # It's necessary to clear the caches for our Finder first, in case any
    # modules are being added/deleted/modified at runtime. In particular,
    # test_modulefinder.py changes file tree contents in a cache-breaking way:

    importlib.machinery.PathFinder.invalidate_caches()

    spec = importlib.machinery.PathFinder.find_spec(name, path)

    if spec is None:
        raise ImportError("No module named {name!r}".format(name=name), name=name)

    # Some special cases:

    if spec.loader is importlib.machinery.BuiltinImporter:
        return None, None, ("", "", _C_BUILTIN)

    if spec.loader is importlib.machinery.FrozenImporter:
        return None, None, ("", "", _PY_FROZEN)

    file_path = spec.origin

    if spec.loader.is_package(name):
        return None, os.path.dirname(file_path), ("", "", _PKG_DIRECTORY)

    if isinstance(spec.loader, importlib.machinery.SourceFileLoader):
        kind = _PY_SOURCE

    elif isinstance(spec.loader, importlib.machinery.ExtensionFileLoader):
        kind = _C_EXTENSION

    elif isinstance(spec.loader, importlib.machinery.SourcelessFileLoader):
        kind = _PY_COMPILED

    else:  # Should never happen.
        return None, None, ("", "", _SEARCH_ERROR)

    file = io.open_code(file_path)
    suffix = os.path.splitext(file_path)[-1]

    return file, file_path, (suffix, "rb", kind)


class Module:

    def __init__(self, name, file=None, path=None):
        self.__name__ = name
        self.__file__ = file
        self.__path__ = path
        self.__code__ = None
        # The set of global names that are assigned to in the module.
        # This includes those names imported through starimports of
        # Python modules.
        self.globalnames = {}
        # The set of starimports this module did that could not be
        # resolved, ie. a starimport from a non-Python module.
        self.starimports = {}

    def __repr__(self):
        s = "Module(%r" % (self.__name__,)
        if self.__file__ is not None:
            s = s + ", %r" % (self.__file__,)
        if self.__path__ is not None:
            s = s + ", %r" % (self.__path__,)
        s = s + ")"
        return s

class ModuleFinder:

    def __init__(self, path=None, debug=0, excludes=None, replace_paths=None):
        if path is None:
            path = sys.path
        self.path = path
        self.modules = {}
        self.badmodules = {}
        self.debug = debug
        self.indent = 0
        self.excludes = excludes if excludes is not None else []
        self.replace_paths = replace_paths if replace_paths is not None else []
        self.processed_paths = []   # Used in debugging only

    def msg(self, level, str, *args):
        if level <= self.debug:
            for i in range(self.indent):
                print("   ", end=' ')
            print(str, end=' ')
            for arg in args:
                print(repr(arg), end=' ')
            print()

    def msgin(self, *args):
        level = args[0]
        if level <= self.debug:
            self.indent = self.indent + 1
            self.msg(*args)

    def msgout(self, *args):
        level = args[0]
        if level <= self.debug:
            self.indent = self.indent - 1
            self.msg(*args)

    def run_script(self, pathname):
        self.msg(2, "run_script", pathname)
        with io.open_code(pathname) as fp:
            stuff = ("", "rb", _PY_SOURCE)
            self.load_module('__main__', fp, pathname, stuff)

    def load_file(self, pathname):
        dir, name = os.path.split(pathname)
        name, ext = os.path.splitext(name)
        with io.open_code(pathname) as fp:
            stuff = (ext, "rb", _PY_SOURCE)
            self.load_module(name, fp, pathname, stuff)

    def import_hook(self, name, caller=None, fromlist=None, level=-1):
        self.msg(3, "import_hook", name, caller, fromlist, level)
        parent = self.determine_parent(caller, level=level)
        q, tail = self.find_head_package(parent, name)
        m = self.load_tail(q, tail)
        if not fromlist:
            return q
        if m.__path__:
            self.ensure_fromlist(m, fromlist)
        return None

    def determine_parent(self, caller, level=-1):
        self.msgin(4, "determine_parent", caller, level)
        if not caller or level == 0:
            self.msgout(4, "determine_parent -> None")
            return None
        pname = caller.__name__
        if level >= 1: # relative import
            if caller.__path__:
                level -= 1
            if level == 0:
                parent = self.modules[pname]
                assert parent is caller
                self.msgout(4, "determine_parent ->", parent)
                return parent
            if pname.count(".") < level:
                raise ImportError("relative importpath too deep")
            pname = ".".join(pname.split(".")[:-level])
            parent = self.modules[pname]
            self.msgout(4, "determine_parent ->", parent)
            return parent
        if caller.__path__:
            parent = self.modules[pname]
            assert caller is parent
            self.msgout(4, "determine_parent ->", parent)
            return parent
        if '.' in pname:
            i = pname.rfind('.')
            pname = pname[:i]
            parent = self.modules[pname]
            assert parent.__name__ == pname
            self.msgout(4, "determine_parent ->", parent)
            return parent
        self.msgout(4, "determine_parent -> None")
        return None

    def find_head_package(self, parent, name):
        self.msgin(4, "find_head_package", parent, name)
        if '.' in name:
            i = name.find('.')
            head = name[:i]
            tail = name[i+1:]
        else:
            head = name
            tail = ""
        if parent:
            qname = "%s.%s" % (parent.__name__, head)
        else:
            qname = head
        q = self.import_module(head, qname, parent)
        if q:
            self.msgout(4, "find_head_package ->", (q, tail))
            return q, tail
        if parent:
            qname = head
            parent = None
            q = self.import_module(head, qname, parent)
            if q:
                self.msgout(4, "find_head_package ->", (q, tail))
                return q, tail
        self.msgout(4, "raise ImportError: No module named", qname)
        raise ImportError("No module named " + qname)

    def load_tail(self, q, tail):
        self.msgin(4, "load_tail", q, tail)
        m = q
        while tail:
            i = tail.find('.')
            if i < 0: i = len(tail)
            head, tail = tail[:i], tail[i+1:]
            mname = "%s.%s" % (m.__name__, head)
            m = self.import_module(head, mname, m)
            if not m:
                self.msgout(4, "raise ImportError: No module named", mname)
                raise ImportError("No module named " + mname)
        self.msgout(4, "load_tail ->", m)
        return m

    def ensure_fromlist(self, m, fromlist, recursive=0):
        self.msg(4, "ensure_fromlist", m, fromlist, recursive)
        for sub in fromlist:
            if sub == "*":
                if not recursive:
                    all = self.find_all_submodules(m)
                    if all:
                        self.ensure_fromlist(m, all, 1)
            elif not hasattr(m, sub):
                subname = "%s.%s" % (m.__name__, sub)
                submod = self.import_module(sub, subname, m)
                if not submod:
                    raise ImportError("No module named " + subname)

    def find_all_submodules(self, m):
        if not m.__path__:
            return
        modules = {}
        # 'suffixes' used to be a list hardcoded to [".py", ".pyc"].
        # But we must also collect Python extension modules - although
        # we cannot separate normal dlls from Python extensions.
        suffixes = []
        suffixes += importlib.machinery.EXTENSION_SUFFIXES[:]
        suffixes += importlib.machinery.SOURCE_SUFFIXES[:]
        suffixes += importlib.machinery.BYTECODE_SUFFIXES[:]
        for dir in m.__path__:
            try:
                names = os.listdir(dir)
            except OSError:
                self.msg(2, "can't list directory", dir)
                continue
            for name in names:
                mod = None
                for suff in suffixes:
                    n = len(suff)
                    if name[-n:] == suff:
                        mod = name[:-n]
                        break
                if mod and mod != "__init__":
                    modules[mod] = mod
        return modules.keys()

    def import_module(self, partname, fqname, parent):
        self.msgin(3, "import_module", partname, fqname, parent)
        try:
            m = self.modules[fqname]
        except KeyError:
            pass
        else:
            self.msgout(3, "import_module ->", m)
            return m
        if fqname in self.badmodules:
            self.msgout(3, "import_module -> None")
            return None
        if parent and parent.__path__ is None:
            self.msgout(3, "import_module -> None")
            return None
        try:
            fp, pathname, stuff = self.find_module(partname,
                                                   parent and parent.__path__, parent)
        except ImportError:
            self.msgout(3, "import_module ->", None)
            return None

        try:
            m = self.load_module(fqname, fp, pathname, stuff)
        finally:
            if fp:
                fp.close()
        if parent:
            setattr(parent, partname, m)
        self.msgout(3, "import_module ->", m)
        return m

    def load_module(self, fqname, fp, pathname, file_info):
        suffix, mode, type = file_info
        self.msgin(2, "load_module", fqname, fp and "fp", pathname)
        if type == _PKG_DIRECTORY:
            m = self.load_package(fqname, pathname)
            self.msgout(2, "load_module ->", m)
            return m
        if type == _PY_SOURCE:
            co = compile(fp.read(), pathname, 'exec')
        elif type == _PY_COMPILED:
            try:
                data = fp.read()
                importlib._bootstrap_external._classify_pyc(data, fqname, {})
            except ImportError as exc:
                self.msgout(2, "raise ImportError: " + str(exc), pathname)
                raise
            co = marshal.loads(memoryview(data)[16:])
        else:
            co = None
        m = self.add_module(fqname)
        m.__file__ = pathname
        if co:
            if self.replace_paths:
                co = self.replace_paths_in_code(co)
            m.__code__ = co
            self.scan_code(co, m)
        self.msgout(2, "load_module ->", m)
        return m

    def _add_badmodule(self, name, caller):
        if name not in self.badmodules:
            self.badmodules[name] = {}
        if caller:
            self.badmodules[name][caller.__name__] = 1
        else:
            self.badmodules[name]["-"] = 1

    def _safe_import_hook(self, name, caller, fromlist, level=-1):
        # wrapper for self.import_hook() that won't raise ImportError
        if name in self.badmodules:
            self._add_badmodule(name, caller)
            return
        try:
            self.import_hook(name, caller, level=level)
        except ImportError as msg:
            self.msg(2, "ImportError:", str(msg))
            self._add_badmodule(name, caller)
        except SyntaxError as msg:
            self.msg(2, "SyntaxError:", str(msg))
            self._add_badmodule(name, caller)
        else:
            if fromlist:
                for sub in fromlist:
                    fullname = name + "." + sub
                    if fullname in self.badmodules:
                        self._add_badmodule(fullname, caller)
                        continue
                    try:
                        self.import_hook(name, caller, [sub], level=level)
                    except ImportError as msg:
                        self.msg(2, "ImportError:", str(msg))
                        self._add_badmodule(fullname, caller)

    def scan_opcodes(self, co):
        # Scan the code, and yield 'interesting' opcode combinations
        for name in dis._find_store_names(co):
            yield "store", (name,)
        for name, level, fromlist in dis._find_imports(co):
            if level == 0:  # absolute import
                yield "absolute_import", (fromlist, name)
            else:  # relative import
                yield "relative_import", (level, fromlist, name)

    def scan_code(self, co, m):
        code = co.co_code
        scanner = self.scan_opcodes
        for what, args in scanner(co):
            if what == "store":
                name, = args
                m.globalnames[name] = 1
            elif what == "absolute_import":
                fromlist, name = args
                have_star = 0
                if fromlist is not None:
                    if "*" in fromlist:
                        have_star = 1
                    fromlist = [f for f in fromlist if f != "*"]
                self._safe_import_hook(name, m, fromlist, level=0)
                if have_star:
                    # We've encountered an "import *". If it is a Python module,
                    # the code has already been parsed and we can suck out the
                    # global names.
                    mm = None
                    if m.__path__:
                        # At this point we don't know whether 'name' is a
                        # submodule of 'm' or a global module. Let's just try
                        # the full name first.
                        mm = self.modules.get(m.__name__ + "." + name)
                    if mm is None:
                        mm = self.modules.get(name)
                    if mm is not None:
                        m.globalnames.update(mm.globalnames)
                        m.starimports.update(mm.starimports)
                        if mm.__code__ is None:
                            m.starimports[name] = 1
                    else:
                        m.starimports[name] = 1
            elif what == "relative_import":
                level, fromlist, name = args
                if name:
                    self._safe_import_hook(name, m, fromlist, level=level)
                else:
                    parent = self.determine_parent(m, level=level)
                    self._safe_import_hook(parent.__name__, None, fromlist, level=0)
            else:
                # We don't expect anything else from the generator.
                raise RuntimeError(what)

        for c in co.co_consts:
            if isinstance(c, type(co)):
                self.scan_code(c, m)

    def load_package(self, fqname, pathname):
        self.msgin(2, "load_package", fqname, pathname)
        newname = replacePackageMap.get(fqname)
        if newname:
            fqname = newname
        m = self.add_module(fqname)
        m.__file__ = pathname
        m.__path__ = [pathname]

        # As per comment at top of file, simulate runtime __path__ additions.
        m.__path__ = m.__path__ + packagePathMap.get(fqname, [])

        fp, buf, stuff = self.find_module("__init__", m.__path__)
        try:
            self.load_module(fqname, fp, buf, stuff)
            self.msgout(2, "load_package ->", m)
            return m
        finally:
            if fp:
                fp.close()

    def add_module(self, fqname):
        if fqname in self.modules:
            return self.modules[fqname]
        self.modules[fqname] = m = Module(fqname)
        return m

    def find_module(self, name, path, parent=None):
        if parent is not None:
            # assert path is not None
            fullname = parent.__name__+'.'+name
        else:
            fullname = name
        if fullname in self.excludes:
            self.msgout(3, "find_module -> Excluded", fullname)
            raise ImportError(name)

        if path is None:
            if name in sys.builtin_module_names:
                return (None, None, ("", "", _C_BUILTIN))

            path = self.path

        return _find_module(name, path)

    def report(self):
        """Print a report to stdout, listing the found modules with their
        paths, as well as modules that are missing, or seem to be missing.
        """
        print()
        print("  %-25s %s" % ("Name", "File"))
        print("  %-25s %s" % ("----", "----"))
        # Print modules found
        keys = sorted(self.modules.keys())
        for key in keys:
            m = self.modules[key]
            if m.__path__:
                print("P", end=' ')
            else:
                print("m", end=' ')
            print("%-25s" % key, m.__file__ or "")

        # Print missing modules
        missing, maybe = self.any_missing_maybe()
        if missing:
            print()
            print("Missing modules:")
            for name in missing:
                mods = sorted(self.badmodules[name].keys())
                print("?", name, "imported from", ', '.join(mods))
        # Print modules that may be missing, but then again, maybe not...
        if maybe:
            print()
            print("Submodules that appear to be missing, but could also be", end=' ')
            print("global names in the parent package:")
            for name in maybe:
                mods = sorted(self.badmodules[name].keys())
                print("?", name, "imported from", ', '.join(mods))

    def any_missing(self):
        """Return a list of modules that appear to be missing. Use
        any_missing_maybe() if you want to know which modules are
        certain to be missing, and which *may* be missing.
        """
        missing, maybe = self.any_missing_maybe()
        return missing + maybe

    def any_missing_maybe(self):
        """Return two lists, one with modules that are certainly missing
        and one with modules that *may* be missing. The latter names could
        either be submodules *or* just global names in the package.

        The reason it can't always be determined is that it's impossible to
        tell which names are imported when "from module import *" is done
        with an extension module, short of actually importing it.
        """
        missing = []
        maybe = []
        for name in self.badmodules:
            if name in self.excludes:
                continue
            i = name.rfind(".")
            if i < 0:
                missing.append(name)
                continue
            subname = name[i+1:]
            pkgname = name[:i]
            pkg = self.modules.get(pkgname)
            if pkg is not None:
                if pkgname in self.badmodules[name]:
                    # The package tried to import this module itself and
                    # failed. It's definitely missing.
                    missing.append(name)
                elif subname in pkg.globalnames:
                    # It's a global in the package: definitely not missing.
                    pass
                elif pkg.starimports:
                    # It could be missing, but the package did an "import *"
                    # from a non-Python module, so we simply can't be sure.
                    maybe.append(name)
                else:
                    # It's not a global in the package, the package didn't
                    # do funny star imports, it's very likely to be missing.
                    # The symbol could be inserted into the package from the
                    # outside, but since that's not good style we simply list
                    # it missing.
                    missing.append(name)
            else:
                missing.append(name)
        missing.sort()
        maybe.sort()
        return missing, maybe

    def replace_paths_in_code(self, co):
        new_filename = original_filename = os.path.normpath(co.co_filename)
        for f, r in self.replace_paths:
            if original_filename.startswith(f):
                new_filename = r + original_filename[len(f):]
                break

        if self.debug and original_filename not in self.processed_paths:
            if new_filename != original_filename:
                self.msgout(2, "co_filename %r changed to %r" \
                                    % (original_filename,new_filename,))
            else:
                self.msgout(2, "co_filename %r remains unchanged" \
                                    % (original_filename,))
            self.processed_paths.append(original_filename)

        consts = list(co.co_consts)
        for i in range(len(consts)):
            if isinstance(consts[i], type(co)):
                consts[i] = self.replace_paths_in_code(consts[i])

        return co.replace(co_consts=tuple(consts), co_filename=new_filename)


def test():
    # Parse command line
    import getopt
    try:
        opts, args = getopt.getopt(sys.argv[1:], "dmp:qx:")
    except getopt.error as msg:
        print(msg)
        return

    # Process options
    debug = 1
    domods = 0
    addpath = []
    exclude = []
    for o, a in opts:
        if o == '-d':
            debug = debug + 1
        if o == '-m':
            domods = 1
        if o == '-p':
            addpath = addpath + a.split(os.pathsep)
        if o == '-q':
            debug = 0
        if o == '-x':
            exclude.append(a)

    # Provide default arguments
    if not args:
        script = "hello.py"
    else:
        script = args[0]

    # Set the path based on sys.path and the script directory
    path = sys.path[:]
    path[0] = os.path.dirname(script)
    path = addpath + path
    if debug > 1:
        print("path:")
        for item in path:
            print("   ", repr(item))

    # Create the module finder and turn its crank
    mf = ModuleFinder(path, debug, exclude)
    for arg in args[1:]:
        if arg == '-m':
            domods = 1
            continue
        if domods:
            if arg[-2:] == '.*':
                mf.import_hook(arg[:-2], None, ["*"])
            else:
                mf.import_hook(arg)
        else:
            mf.load_file(arg)
    mf.run_script(script)
    mf.report()
    return mf  # for -i debugging


if __name__ == '__main__':
    try:
        mf = test()
    except KeyboardInterrupt:
        print("\n[interrupted]")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             	   .   Ω   ..  
   __init__.py    __pycache__ !   connection.py   "   
context.py  #   dummy   )   forkserver.py   *   heap.py +   managers.py ,   pool.py -   popen_fork.py   .   popen_forkserver.py /   popen_spawn_posix.py0   popen_spawn_win32.py1   
process.py  2   	queues.py   3   reduction.py4   resource_sharer.py  5   resource_tracker.py 6   shared_memory.py7   sharedctypes.py 8   spawn.py9   synchronize.py  :   util.py                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 #
# Package analogous to 'threading.py' but using processes
#
# multiprocessing/__init__.py
#
# This package is intended to duplicate the functionality (and much of
# the API) of threading.py but uses processes instead of threads.  A
# subpackage 'multiprocessing.dummy' has the same API but is a simple
# wrapper for 'threading'.
#
# Copyright (c) 2006-2008, R Oudkerk
# Licensed to PSF under a Contributor Agreement.
#

import sys
from . import context

#
# Copy stuff from default context
#

__all__ = [x for x in dir(context._default_context) if not x.startswith('_')]
globals().update((name, getattr(context._default_context, name)) for name in __all__)

#
# XXX These should not really be documented or public.
#

SUBDEBUG = 5
SUBWARNING = 25

#
# Alias for main module -- will be reset by bootstrapping child processes
#

if '__main__' in sys.modules:
    sys.modules['__mp_main__'] = sys.modules['__main__']
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               .   	   ..      __init__.cpython-311.pyc  $ connection.cpython-311.pyc      context.cpython-311.pyc   $ forkserver.cpython-311.pyc     heap.cpython-311.pyc    managers.cpython-311.pyc   pool.cpython-311.pyc  $ popen_fork.cpython-311.pyc    (  popen_forkserver.cpython-311.pyc  , !popen_spawn_posix.cpython-311.pyc     , !popen_spawn_win32.cpython-311.pyc       process.cpython-311.pyc     queues.cpython-311.pyc    $ reduction.cpython-311.pyc     ( resource_sharer.cpython-311.pyc   (  resource_tracker.cpython-311.pyc  ( shared_memory.cpython-311.pyc     $ sharedctypes.cpython-311.pyc    spawn.cpython-311.pyc     $ synchronize.cpython-311.pyc     util.cpython-311.pyc                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ß
    §åhî  „                   Û‰   ó d dl Z ddlmZ dÑ  eej        ¶  ´        D ¶   ´         Z e¶   ´         †                    dÑ eD ¶   ´         ¶  ´         dZdZ	de j
        v re j
        d         e j
        d	<   dS dS )
È    NÈ   )⁄contextc                 Û<   ó g | ]}|†                     d ¶  ´        ∞|ëåS )⁄_)⁄
startswith)⁄.0⁄xs     ˙//usr/lib/python3.11/multiprocessing/__init__.py˙
<listcomp>r      s)   Ä –
M–
M–
Mê∏1ø<∫<»—;L‘;L–
Mà1–
M–
M–
MÛ    c              #   ÛN   K  ó | ] }|t          t          j        |¶  ´        fV ó å!d S )N)⁄getattrr   ⁄_default_context)r   ⁄names     r
   ˙	<genexpr>r      s4   Ë Ë Ä –U–U¿Tê$ù•‘ 8∏$—?‘?–@–U–U–U–U–U–Ur   È   È   ⁄__main__⁄__mp_main__)⁄sys⁄ r   ⁄dirr   ⁄__all__⁄globals⁄update⁄SUBDEBUG⁄
SUBWARNING⁄modules© r   r
   ˙<module>r       s™    Ä
Ä
Ä
ÿ – – – – –  N–
Mêcêcò'‘2—3‘3–
M—
M‘
MÄÿ ÄÅ	Ñ	◊ “ –U–U»W–U—U‘U— U‘ U– U ÄÿÄ
 êî––ÿ!$§®Z‘!8ÄCÑKê—–– –r                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              ß
    §åhs{  „                   Û  ó g d ¢Z ddlZddlZddlZddlZddlZddlZddlZddlZddl	Z	ddl
mZ ddl
mZmZ ddlmZ ej        Z	 ddlZddlmZmZmZmZ n# e$ r ej        dk    rÇ dZY nw xY wd	Zd
Z ej        ¶   ´         ZdZdgZ eed¶  ´        rdZedgz  Zej        dk    rdZedgz  ZefdÑZ dÑ Z!dÑ Z"dÑ Z#dÑ Z$ G dÑ d¶  ´        Z%er G dÑ de%¶  ´        Z& G dÑ de%¶  ´        Z' G dÑ de(¶  ´        Z)d<dÑZ*ej        dk    rd=dÑZ+nd=dÑZ+ G dÑ d e(¶  ´        Z,d!Ñ Z-ej        dk    r G d"Ñ d#e(¶  ´        Z.d$Ñ Z/d%Z0d&Z1d'Z2d(Z3d)Ñ Z4d*Ñ Z5 G d+Ñ d,e(¶  ´        Z6d-Ñ Z7d.Ñ Z8 G d/Ñ d0e)¶  ´        Z9d1Ñ Z:ej        dk    rd2Ñ Z;ej<        ej=        hZ>d>d3ÑZ?n#ddl@Z@ ee@d4¶  ´        re@jA        ZBne@jC        ZBd>d5ÑZ?ej        dk    r0d6Ñ ZDd7Ñ ZE ejF        e'eD¶  ´         d8Ñ ZGd9Ñ ZH ejF        e&eG¶  ´         dS d:Ñ ZDd;Ñ ZE ejF        e'eD¶  ´         dS )?)⁄Client⁄Listener⁄Pipe⁄waitÈ    NÈ   )⁄util)⁄AuthenticationError⁄BufferTooShort)⁄	reduction)⁄WAIT_OBJECT_0⁄WAIT_ABANDONED_0⁄WAIT_TIMEOUT⁄INFINITE⁄win32i    g      4@⁄AF_INET⁄AF_UNIX⁄AF_PIPEc                 Û.   ó t          j        ¶   ´         | z   S ©N©⁄time⁄	monotonic)⁄timeouts    ˙1/usr/lib/python3.11/multiprocessing/connection.py⁄_init_timeoutr   ;   s   Ä ›å>—‘òg—%–%Û    c                 Û0   ó t          j        ¶   ´         | k    S r   r   )⁄ts    r   ⁄_check_timeoutr   >   s   Ä ›å>—‘òa“–r   c                 Û  ó | dk    rdS | dk    r't          j        dt          j        ¶   ´         ¨¶  ´        S | dk    r>t          j        dt	          j        ¶   ´         t          t          ¶  ´        fz  d¨¶  ´        S t          d	¶  ´        Ç)
z?
    Return an arbitrary free address for the given family
    r   )⁄	localhostr   r   z	listener-)⁄prefix⁄dirr   z\\.\pipe\pyc-%d-%d-⁄ zunrecognized family)	⁄tempfile⁄mktempr   ⁄get_temp_dir⁄os⁄getpid⁄next⁄_mmap_counter⁄
ValueError©⁄familys    r   ⁄arbitrary_addressr/   E   sô   Ä  ê“–ÿ–ÿ	ê9“	–	›å†kµt‘7H—7J‘7J–K—K‘K–Kÿ	ê9“	–	›å–&<› "§	°§≠Tµ-—-@‘-@–AÒ'BÿGIKÒ KÙ K 	Kı –.—/‘/–/r   c                 Ûÿ   ó t           j        dk    r| dk    rt          d| z  ¶  ´        Çt           j        dk    r-| dk    r)t          t          | ¶  ´        st          d| z  ¶  ´        ÇdS dS dS )zD
    Checks if the family is valid for the current environment.
    r   r   zFamily %s is not recognized.r   N)⁄sys⁄platformr,   ⁄hasattr⁄socketr-   s    r   ⁄_validate_familyr5   S   sá   Ä ı Ñ|êw“–†6®Y“#6–#6›–7∏&—@—A‘A–AÂ
Ñ|êw“–†6®Y“#6–#6Âïvòv—&‘& 	F›–;∏f—D—E‘E–E ––#6–#6	F 	Fr   c                 Û  ó t          | ¶  ´        t          k    rdS t          | ¶  ´        t          u r| †                    d¶  ´        rdS t          | ¶  ´        t          u st	          j        | ¶  ´        rdS t          d| z  ¶  ´        Ç)z]
    Return the types of the address

    This can be 'AF_INET', 'AF_UNIX', or 'AF_PIPE'
    r   z\\r   r   zaddress type of %r unrecognized)⁄type⁄tuple⁄str⁄
startswithr   ⁄is_abstract_socket_namespacer,   )⁄addresss    r   ⁄address_typer=   _   s}   Ä ı àGÅ}Ñ}ù“–ÿày›	àgâåù#–	–	†'◊"4“"4∞V—"<‘"<–	ÿày›	àgâåù#–	–	•‘!B¿7—!K‘!K–	ÿàyÂ–:∏W—D—E‘E–Er   c                   Ûæ   ó e Zd ZdZddÑZdÑ ZdÑ ZdÑ ZdÑ ZdÑ Z	e
d	Ñ ¶   ´         Ze
d
Ñ ¶   ´         Ze
dÑ ¶   ´         ZdÑ ZdÑ ZddÑZdÑ ZddÑZddÑZdÑ ZddÑZdÑ ZdÑ ZdS )⁄_ConnectionBaseNTc                 Û®   ó |†                     ¶   ´         }|dk     rt          d¶  ´        Ç|s|st          d¶  ´        Ç|| _        || _        || _        d S )Nr   zinvalid handlez6at least one of `readable` and `writable` must be True)⁄	__index__r,   ⁄_handle⁄	_readable⁄	_writable)⁄self⁄handle⁄readable⁄writables       r   ⁄__init__z_ConnectionBase.__init__u   sm   Ä ÿ◊!“!—#‘#àÿêAä:à:›–-—.‘.–.ÿ 	J† 	J›ÿHÒJÙ J J‡àåÿ!àåÿ!àåààr   c                 Û@   ó | j         Å| †                    ¶   ´          d S d S r   ©rB   ⁄_close©rE   s    r   ⁄__del__z_ConnectionBase.__del__Ç   s#   Ä ÿå<–#ÿèKäKâMåMàMàMàM $–#r   c                 Û2   ó | j         Ät          d¶  ´        Çd S )Nzhandle is closed)rB   ⁄OSErrorrM   s    r   ⁄_check_closedz_ConnectionBase._check_closedÜ   s!   Ä ÿå<–›–,—-‘-–-  –r   c                 Û2   ó | j         st          d¶  ´        Çd S )Nzconnection is write-only)rC   rP   rM   s    r   ⁄_check_readablez_ConnectionBase._check_readableä   s%   Ä ÿå~ 	6›–4—5‘5–5	6 	6r   c                 Û2   ó | j         st          d¶  ´        Çd S )Nzconnection is read-only)rD   rP   rM   s    r   ⁄_check_writablez_ConnectionBase._check_writableé   s%   Ä ÿå~ 	5›–3—4‘4–4	5 	5r   c                 Ûf   ó | j         rd| _        n| †                    ¶   ´          t          d¶  ´        Ç)NFzbad message length)rD   rC   ⁄closerP   rM   s    r   ⁄_bad_message_lengthz#_ConnectionBase._bad_message_lengthí   s1   Ä ÿå> 	ÿ"àDåNàN‡èJäJâLåLàL›–*—+‘+–+r   c                 Û   ó | j         du S )z True if the connection is closedN©rB   rM   s    r   ⁄closedz_ConnectionBase.closedô   s   Ä  å|òt–#–#r   c                 Û   ó | j         S )z"True if the connection is readable)rC   rM   s    r   rG   z_ConnectionBase.readableû   Û   Ä  å~–r   c                 Û   ó | j         S )z"True if the connection is writable)rD   rM   s    r   rH   z_ConnectionBase.writable£   r]   r   c                 Û8   ó | †                     ¶   ´          | j        S )z+File descriptor or handle of the connection)rQ   rB   rM   s    r   ⁄filenoz_ConnectionBase.fileno®   s   Ä ‡◊“—‘–ÿå|–r   c                 Ûh   ó | j         Å*	 | †                    ¶   ´          d| _         dS # d| _         w xY wdS )zClose the connectionNrK   rM   s    r   rW   z_ConnectionBase.close≠   sB   Ä ‡å<–#$ÿóíëîê‡#êîêê¯òtêî–#–#–#–#	 $–#s   â& ¶	/r   c                 Û¿  ó | †                     ¶   ´          | †                    ¶   ´          t          |¶  ´        }|j        dk    r|†                    d¶  ´        }|j        }|dk     rt          d¶  ´        Ç||k     rt          d¶  ´        Ç|Ä||z
  }n-|dk     rt          d¶  ´        Ç||z   |k    rt          d¶  ´        Ç| †                    ||||z   Ö         ¶  ´         dS )	z,Send the bytes data from a bytes-like objectr   ⁄Br   zoffset is negativezbuffer length < offsetNzsize is negativezbuffer length < offset + size)rQ   rU   ⁄
memoryview⁄itemsize⁄cast⁄nbytesr,   ⁄_send_bytes)rE   ⁄buf⁄offset⁄size⁄m⁄ns         r   ⁄
send_bytesz_ConnectionBase.send_bytesµ   s   Ä ‡◊“—‘–ÿ◊“—‘–›êsâOåOàÿå:òä>à>ÿóíêsëîàAÿåHàÿêAä:à:›–1—2‘2–2ÿàvä:à:›–5—6‘6–6ÿà<ÿêvë:àDàDÿêAäXàX›–/—0‘0–0ÿêdâ]òQ“–›–<—=‘=–=ÿ◊“òò6†&®4°-–/‘0—1‘1–1–1–1r   c                 Û∞   ó | †                     ¶   ´          | †                    ¶   ´          | †                    t          †                    |¶  ´        ¶  ´         dS )zSend a (picklable) objectN)rQ   rU   rh   ⁄_ForkingPickler⁄dumps©rE   ⁄objs     r   ⁄sendz_ConnectionBase.send…   sN   Ä ‡◊“—‘–ÿ◊“—‘–ÿ◊“ù◊.“.®s—3‘3—4‘4–4–4–4r   c                 Û˛   ó | †                     ¶   ´          | †                    ¶   ´          |Å|dk     rt          d¶  ´        Ç| †                    |¶  ´        }|Ä| †                    ¶   ´          |†                    ¶   ´         S )z7
        Receive bytes data as a bytes object.
        Nr   znegative maxlength)rQ   rS   r,   ⁄_recv_bytesrX   ⁄getvalue)rE   ⁄	maxlengthri   s      r   ⁄
recv_bytesz_ConnectionBase.recv_bytesœ   s}   Ä  	◊“—‘–ÿ◊“—‘–ÿ– †Y∞¢]†]›–1—2‘2–2ÿ◊“òy—)‘)àÿà;ÿ◊$“$—&‘&–&ÿè|ä|â~å~–r   c                 ÛH  ó | †                     ¶   ´          | †                    ¶   ´          t          |¶  ´        5 }|j        }|t	          |¶  ´        z  }|dk     rt          d¶  ´        Ç||k    rt          d¶  ´        Ç| †                    ¶   ´         }|†                    ¶   ´         }|||z   k     r!t          |†	                    ¶   ´         ¶  ´        Ç|†
                    d¶  ´         |†                    |||z  ||z   |z  Ö         ¶  ´         |cddd¶  ´         S # 1 swxY w Y   dS )zq
        Receive bytes data into a writeable bytes-like object.
        Return the number of bytes read.
        r   znegative offsetzoffset too largeN)rQ   rS   rd   re   ⁄lenr,   rv   ⁄tellr
   rw   ⁄seek⁄readinto)rE   ri   rj   rl   re   ⁄bytesize⁄resultrk   s           r   ⁄recv_bytes_intoz_ConnectionBase.recv_bytes_into‹   sj  Ä 
 	◊“—‘–ÿ◊“—‘–›òâ_å_ 	†‡îzàHÿ•#†a°&§&—(àHÿòäzàz› –!2—3‘3–3ÿò(“"–"› –!3—4‘4–4ÿ◊%“%—'‘'àFÿó;í;ë=î=àDÿò&†4ô-“'–'›$†Vß_¢_—%6‘%6—7‘7–7‡èKäKòâNåNàNÿèOäOòAòf®—0ÿ%®ô}∞—9:Ù ;Ò <Ù < <‡!	 	 	 	Ò 	Ù 	 	 	 	 	 	 	¯¯¯ 	 	 	 	 	 	s   ∏CDƒDƒDc                 Û“   ó | †                     ¶   ´          | †                    ¶   ´          | †                    ¶   ´         }t          †                    |†                    ¶   ´         ¶  ´        S )zReceive a (picklable) object)rQ   rS   rv   rp   ⁄loads⁄	getbuffer)rE   ri   s     r   ⁄recvz_ConnectionBase.recvı   sS   Ä ‡◊“—‘–ÿ◊“—‘–ÿ◊“— ‘ à›◊$“$†Sß]¢]°_§_—5‘5–5r   Á        c                 Û|   ó | †                     ¶   ´          | †                    ¶   ´          | †                    |¶  ´        S )z/Whether there is any input available to be read)rQ   rS   ⁄_poll©rE   r   s     r   ⁄pollz_ConnectionBase.poll¸   s8   Ä ‡◊“—‘–ÿ◊“—‘–ÿèzäzò'—"‘"–"r   c                 Û   ó | S r   © rM   s    r   ⁄	__enter__z_ConnectionBase.__enter__  Û   Ä ÿàr   c                 Û.   ó | †                     ¶   ´          d S r   ©rW   ©rE   ⁄exc_type⁄	exc_value⁄exc_tbs       r   ⁄__exit__z_ConnectionBase.__exit__  Û   Ä ÿè
ä
âåàààr   )TT)r   Nr   )r   )rÜ   )⁄__name__⁄
__module__⁄__qualname__rB   rI   rN   rQ   rS   rU   rX   ⁄propertyr[   rG   rH   r`   rW   rn   rt   ry   rÅ   rÖ   rä   rç   rï   rå   r   r   r?   r?   r   ss  Ä Ä Ä Ä Ä ÿÄG	" 	" 	" 	"  . . .6 6 65 5 5, , , $ $Ò ÑX$  Ò ÑX  Ò ÑX  
$ $ $2 2 2 2(5 5 5      26 6 6# # # #      r   r?   c                   ÛD   ó e Zd ZdZdZej        fdÑZdÑ Zd	dÑZ	dÑ Z
dÑ ZdS )
⁄PipeConnectionz™
        Connection class based on a Windows named pipe.
        Overlapped I/O is used, so the handles must have been created
        with FILE_FLAG_OVERLAPPED.
        Fc                 Û&   ó  || j         ¶  ´         d S r   rZ   )rE   ⁄_CloseHandles     r   rL   zPipeConnection._close  s   Ä ÿàLòú—&‘&–&–&–&r   c                 Ûû  ó t          j        | j        |d¨¶  ´        \  }}	 |t           j        k    r.t          j        |j        gdt          ¶  ´        }|t          k    sJ Çn#  |†                    ¶   ´          Ç xY w|†	                    d¶  ´        \  }}n# |†	                    d¶  ´        \  }}w xY w|dk    sJ Ç|t          |¶  ´        k    sJ Çd S )NT©⁄
overlappedFr   )⁄_winapi⁄	WriteFilerB   ⁄ERROR_IO_PENDING⁄WaitForMultipleObjects⁄eventr   r   ⁄cancel⁄GetOverlappedResultr{   )rE   ri   ⁄ov⁄err⁄waitres⁄nwrittens         r   rh   zPipeConnection._send_bytes  s‡   Ä ›‘'®¨∞c¿d–K—K‘KâGàBê	=ÿù'‘2“2–2›%‘<ÿúò
†E≠8Ò5Ù 5êG‡"•m“3–3–3–3¯¯ÿó	í	ëîêÿ¯¯¯‡ "◊ 6“ 6∞t— <‘ <ëêò#ò#¯†◊ 6“ 6∞t— <‘ <ëêò#–<–<–<–<ÿò!í8ê8ê8ê8ÿùs†3ôxúx“'–'–'–'–'–'s   °>A  ¡B ¡ A7¡7B ¬B-Nc                 Û˙  ó | j         rd| _         t          j        ¶   ´         S |Ädnt          |d¶  ´        }	 t	          j        | j        |d¨¶  ´        \  }}	 |t          j        k    r.t	          j        |j	        gdt          ¶  ´        }|t          k    sJ Çn#  |†                    ¶   ´          Ç xY w|†                    d¶  ´        \  }}|dk    r<t          j        ¶   ´         }|†                    |†                    ¶   ´         ¶  ´         |S |t          j        k    r| †                    ||¶  ´        S nç# |†                    d¶  ´        \  }}|dk    r@t          j        ¶   ´         }|†                    |†                    ¶   ´         ¶  ´         |c cY S |t          j        k    r| †                    ||¶  ´        c cY S w xY wn/# t$          $ r"}|j        t          j        k    rt*          ÇÇ d }~ww xY wt-          d¶  ´        Ç)NFÈÄ   Tr†   r   z.shouldn't get here; expected KeyboardInterrupt)⁄_got_empty_message⁄io⁄BytesIO⁄minr¢   ⁄ReadFilerB   r§   r•   r¶   r   r   rß   r®   ⁄writerÑ   ⁄ERROR_MORE_DATA⁄_get_more_datarP   ⁄winerror⁄ERROR_BROKEN_PIPE⁄EOFError⁄RuntimeError)	rE   ⁄maxsize⁄bsizer©   r™   r´   ⁄nread⁄f⁄es	            r   rv   zPipeConnection._recv_bytes%  s  Ä ÿ‘& ÿ*/ê‘'›îzë|î|–#‡&òòòµC∏¿—4E‘4Eê›%‘.®t¨|∏Uÿ;?AÒ AÙ AëGêBòDÿ•'‘":“:–:›&-‘&Dÿ!#§†
®Eµ8Ò'=Ù '=òG‡#*≠m“#;–#;–#;–#;¯¯ÿü	ö	ôúòÿ¯¯¯‡%'◊%;“%;∏D—%A‘%Aô
òòsÿ†!ö8ò8› "§
°§òAÿüGöG†BßL¢L°N§N—3‘3–3ÿ#$òHÿ •G‘$;“;–;ÿ#'◊#6“#6∞r∏7—#C‘#C–C <¯ &(◊%;“%;∏D—%A‘%Aô
òòsÿ†!ö8ò8› "§
°§òAÿüGöG†BßL¢L°N§N—3‘3–3ÿ#$òHòHòHòHòHÿ •G‘$;“;–;ÿ#'◊#6“#6∞r∏7—#C‘#C–C–C–C–C–C–C–C–C–C <¯Â   ÿîz•W‘%>“>–>›&ò‡¯¯¯¯	¯¯¯ı
 –O—P‘P–Psg   ∑F? ¡>B ¬D1 ¬B-¬-D1 ¬0AF? ƒ
%F? ƒ0F? ƒ1AF;∆F? ∆(F;∆8F? ∆:F;∆;F? ∆?
G+«	G&«&G+c                 Ûñ   ó | j         s#t          j        | j        ¶  ´        d         dk    rdS t	          t          | g|¶  ´        ¶  ´        S )Nr   T)rØ   r¢   ⁄PeekNamedPiperB   ⁄boolr   râ   s     r   rà   zPipeConnection._pollE  sI   Ä ÿ‘' ›‘-®d¨l—;‘;∏A‘>¿!“C–Cÿêt›ùòdòV†W—-‘-—.‘.–.r   c                 Û   ó |†                     ¶   ´         }t          j        ¶   ´         }|†                    |¶  ´         t	          j        | j        ¶  ´        d         }|dk    sJ Ç|Å*t          |¶  ´        |z   |k    r| †                    ¶   ´          t	          j	        | j        |d¨¶  ´        \  }}|†
                    d¶  ´        \  }}|dk    sJ Ç||k    sJ Ç|†                    |†                     ¶   ´         ¶  ´         |S )Nr   r   Tr†   )rÑ   r∞   r±   r¥   r¢   r¡   rB   r{   rX   r≥   r®   )rE   r©   rª   ri   ræ   ⁄leftr™   ⁄rbytess           r   r∂   zPipeConnection._get_more_dataK  sÊ   Ä ÿó,í,ë.î.àC›î
ëîàAÿèGäGêCâLåLàL›‘(®¨—6‘6∞q‘9àDÿò!í8ê8ê8ê8ÿ–"•s®3°x§x∞$°∏“'@–'@ÿ◊(“(—*‘*–*›‘&†t§|∞T¿d–K—K‘KâGàBêÿ◊0“0∞—6‘6âKàFêCÿò!í8ê8ê8ê8ÿòTí>ê>ê>ê>ÿèGäGêBóLíLëNîN—#‘#–#ÿàHr   r   )ró   rò   rô   ⁄__doc__rØ   r¢   ⁄CloseHandlerL   rh   rv   rà   r∂   rå   r   r   rú   rú     sÜ   Ä Ä Ä Ä Ä 	 	
 #–‡&-‘&9 	' 	' 	' 	'	( 	( 	(	Q 	Q 	Q 	Q@	/ 	/ 	/	 	 	 	 	r   rú   c                   Û†   ó e Zd ZdZerej        fdÑZej        Z	ej
        Znej        fdÑZej        Z	ej        Ze	fdÑZefdÑZdÑ Zd
dÑZd	Ñ ZdS )⁄
Connectionzo
    Connection class based on an arbitrary file descriptor (Unix only), or
    a socket handle (Windows).
    c                 Û&   ó  || j         ¶  ´         d S r   rZ   ©rE   rL   s     r   rL   zConnection._closeb  Û   Ä ÿàFê4î<— ‘ – – – r   c                 Û&   ó  || j         ¶  ´         d S r   rZ   rÀ   s     r   rL   zConnection._closeg  rÃ   r   c                 Ût   ó t          |¶  ´        }	  || j        |¶  ´        }||z  }|dk    rd S ||d Ö         }å))NTr   )r{   rB   )rE   ri   r¥   ⁄	remainingrm   s        r   ⁄_sendzConnection._sendl  sN   Ä ›òëHîHà		ÿêêdîl†C—(‘(àAÿòâNàIÿòAä~à~ÿêÿêaêbêbî'àC	r   c                 Û  ó t          j        ¶   ´         }| j        }|}|dk    r] |||¶  ´        }t          |¶  ´        }|dk    r||k    rt          Çt          d¶  ´        Ç|†                    |¶  ´         ||z  }|dk    ∞]|S )Nr   zgot end of file during message)r∞   r±   rB   r{   rπ   rP   r¥   )rE   rk   ⁄readri   rF   rœ   ⁄chunkrm   s           r   ⁄_recvzConnection._recvu  sì   Ä ›åjâlålàÿîàÿà	ÿò!ämàmÿêDò†—+‘+àE›êEë
î
àAÿêAävàvÿ†“$–$›"êNÂ!–"B—C‘C–CÿèIäIêe—‘–ÿòâNàI ò!ämàm à
r   c                 Ûƒ  ó t          |¶  ´        }|dk    rkt          j        dd¶  ´        }t          j        d|¶  ´        }| †                    |¶  ´         | †                    |¶  ´         | †                    |¶  ´         d S t          j        d|¶  ´        }|dk    r,| †                    |¶  ´         | †                    |¶  ´         d S | †                    ||z   ¶  ´         d S )Niˇˇˇ˙!iÈˇˇˇˇ˙!Qi @  )r{   ⁄struct⁄packr–   )rE   ri   rm   ⁄
pre_header⁄headers        r   rh   zConnection._send_bytesÖ  s–   Ä ›êâHåHàÿàzä>à>›ú†T®2—.‘.àJ›î[††q—)‘)àFÿèJäJêz—"‘"–"ÿèJäJêv—‘–ÿèJäJêsâOåOàOàOàOı î[††q—)‘)àFÿê5äyày ó
í
ò6—"‘"–"ÿó
í
ò3ëîêêê ó
í
ò6†Cô<—(‘(–(–(–(r   Nc                 ÛD  ó | †                     d¶  ´        }t          j        d|†                    ¶   ´         ¶  ´        \  }|dk    r>| †                     d¶  ´        }t          j        d|†                    ¶   ´         ¶  ´        \  }|Å||k    rd S | †                     |¶  ´        S )NÈ   r÷   r◊   È   rÿ   )r‘   rŸ   ⁄unpackrw   )rE   rª   ri   rk   s       r   rv   zConnection._recv_bytesú  sÑ   Ä ÿèjäjòâmåmà›îòd†CßL¢L°N§N—3‘3âàÿê2ä:à:ÿó*í*òQë-î-àC›îM†$®Ø™©¨—7‘7âEàDÿ–†4®'¢>†>ÿê4ÿèzäzò$—‘–r   c                 ÛB   ó t          | g|¶  ´        }t          |¶  ´        S r   )r   r¬   )rE   r   ⁄rs      r   rà   zConnection._poll¶  s   Ä ›ê$êò—!‘!à›êAâwåwàr   r   )ró   rò   rô   r∆   r¢   ⁄_multiprocessing⁄closesocketrL   rt   ⁄_writerÖ   ⁄_readr(   rW   r¥   r“   r–   r‘   rh   rv   rà   rå   r   r   r…   r…   [  s›   Ä Ä Ä Ä Ä  
  	ÿ 0‘ < 	! 	! 	! 	!‡!‘&àÿ ‘%àà‡ "§ 	! 	! 	! 	!‡îàÿîà‡%      %     ) ) ).           r   r…   c                   Û^   ó e Zd ZdZddÑZdÑ ZdÑ ZedÑ ¶   ´         ZedÑ ¶   ´         Z	d	Ñ Z
d
Ñ ZdS )r   zï
    Returns a listener object.

    This is a wrapper for a bound socket which is 'listening' for
    connections, or for a Windows named pipe.
    Nr   c                 Û8  ó |p|rt          |¶  ´        pt          }|pt          |¶  ´        }t          |¶  ´         |dk    rt	          ||¶  ´        | _        nt          |||¶  ´        | _        |Å$t          |t          ¶  ´        st          d¶  ´        Ç|| _
        d S )Nr   ˙authkey should be a byte string)r=   ⁄default_familyr/   r5   ⁄PipeListener⁄	_listener⁄SocketListener⁄
isinstance⁄bytes⁄	TypeError⁄_authkey)rE   r<   r.   ⁄backlog⁄authkeys        r   rI   zListener.__init__∂  sß   Ä ÿ #òG–=≠∞W—(=‘(= #›" 	‡–6’.®v—6‘6àÂò— ‘ – ÿêY“–›)®'∞7—;‘;àDåNàNÂ+®G∞V∏W—E‘EàDåN‡–•z∞'Ω5—'A‘'A–›–=—>‘>–>‡àåààr   c                 Û∆   ó | j         Ät          d¶  ´        Ç| j         †                    ¶   ´         }| j        r*t	          || j        ¶  ´         t          || j        ¶  ´         |S )zz
        Accept a connection on the bound socket or named pipe of `self`.

        Returns a `Connection` object.
        Nzlistener is closed)rÏ   rP   ⁄acceptrÒ   ⁄deliver_challenge⁄answer_challenge)rE   ⁄cs     r   rı   zListener.accept∆  sa   Ä  å>–!›–.—/‘/–/ÿåN◊!“!—#‘#àÿå= 	/›òa†§—/‘/–/›òQ†§—.‘.–.ÿàr   c                 ÛR   ó | j         }|Åd| _         |†                    ¶   ´          dS dS )zA
        Close the bound socket or named pipe of `self`.
        N)rÏ   rW   )rE   ⁄listeners     r   rW   zListener.close‘  s6   Ä  î>àÿ–ÿ!àDåNÿèNäN—‘–––  –r   c                 Û   ó | j         j        S r   )rÏ   ⁄_addressrM   s    r   r<   zListener.address›  s   Ä ‡å~‘&–&r   c                 Û   ó | j         j        S r   )rÏ   ⁄_last_acceptedrM   s    r   ⁄last_acceptedzListener.last_accepted·  s   Ä ‡å~‘,–,r   c                 Û   ó | S r   rå   rM   s    r   rç   zListener.__enter__Â  ré   r   c                 Û.   ó | †                     ¶   ´          d S r   rê   rë   s       r   rï   zListener.__exit__Ë  rñ   r   )NNr   N)ró   rò   rô   r∆   rI   rı   rW   rö   r<   rˇ   rç   rï   rå   r   r   r   r   Ø  s§   Ä Ä Ä Ä Ä               ' 'Ò ÑX' - -Ò ÑX-      r   r   c                 Û   ó |pt          | ¶  ´        }t          |¶  ´         |dk    rt          | ¶  ´        }nt          | ¶  ´        }|Å$t	          |t
          ¶  ´        st          d¶  ´        Ç|Å t          ||¶  ´         t          ||¶  ´         |S )z=
    Returns a connection to the address of a `Listener`
    r   NrÈ   )	r=   r5   ⁄
PipeClient⁄SocketClientrÓ   rÔ   r   r˜   rˆ   )r<   r.   rÛ   r¯   s       r   r   r   Ï  sö   Ä  –,ï|†G—,‘,ÄF›êV—‘–ÿê“–›êw—‘ààÂò—!‘!à‡–•:®gµu—#=‘#=–›–9—:‘:–:‡–›òòG—$‘$–$›ò!òW—%‘%–%‡ÄHr   Tc                 ÛÑ  ó | rÉt          j        ¶   ´         \  }}|†                    d¶  ´         |†                    d¶  ´         t          |†                    ¶   ´         ¶  ´        }t          |†                    ¶   ´         ¶  ´        }n8t          j        ¶   ´         \  }}t          |d¨¶  ´        }t          |d¨¶  ´        }||fS )˙L
        Returns pair of connection objects at either end of a pipe
        TF©rH   ©rG   )r4   ⁄
socketpair⁄setblockingr…   ⁄detachr(   ⁄pipe)⁄duplex⁄s1⁄s2⁄c1⁄c2⁄fd1⁄fd2s          r   r   r     s™   Ä   		1›‘&—(‘(âFàBêÿèNäNò4— ‘ – ÿèNäNò4— ‘ – ›òBüIöIôKúK—(‘(àB›òBüIöIôKúK—(‘(àBàBÂîwëyîyâHàCê›òC®%–0—0‘0àB›òC®%–0—0‘0àB‡ê2àvàr   c           
      Û&  ó t          d¶  ´        }| r4t          j        }t          j        t          j        z  }t
          t
          }}n!t          j        }t          j        }dt
          }}t          j        ||t          j        z  t          j	        z  t          j
        t          j        z  t          j        z  d||t          j        t          j        ¶  ´        }t          j        ||dt          j        t          j        t          j        t          j        ¶  ´        }t          j        |t          j        dd¶  ´         t          j        |d¨¶  ´        }|†                    d¶  ´        \  }	}
|
dk    sJ Çt)          || ¨¶  ´        }t)          || ¨¶  ´        }||fS )	r  r   r   r   NTr†   r  r  )r/   r¢   ⁄PIPE_ACCESS_DUPLEX⁄GENERIC_READ⁄GENERIC_WRITE⁄BUFSIZE⁄PIPE_ACCESS_INBOUND⁄CreateNamedPipe⁄FILE_FLAG_OVERLAPPED⁄FILE_FLAG_FIRST_PIPE_INSTANCE⁄PIPE_TYPE_MESSAGE⁄PIPE_READMODE_MESSAGE⁄	PIPE_WAIT⁄NMPWAIT_WAIT_FOREVER⁄NULL⁄
CreateFile⁄OPEN_EXISTING⁄SetNamedPipeHandleState⁄ConnectNamedPiper®   rú   )r  r<   ⁄openmode⁄access⁄obsize⁄ibsize⁄h1⁄h2r°   ⁄_r™   r  r  s                r   r   r     sb  Ä ı $†I—.‘.àÿ 	(›‘1àH›‘)≠G‘,A—AàF›$•gêFàFàFÂ‘2àH›‘*àFÿ•êFàFÂ‘$ÿêX•‘ <—<›‘1Ò2Â‘%≠‘(E—E›‘Ò‡àvêvùw‘;ÂåLÒÙ àı ‘ÿêVòQ•§≠g‘.C›‘(≠'¨,ÒÙ àı 	‘'ÿï‘-®t∞TÒ	Ù 	 	ı ‘-®b∏T–B—B‘Bà
ÿ◊/“/∞—5‘5âàà3ÿêaäxàxàxàxÂòB®–0—0‘0à›òB®–0—0‘0à‡ê2àvàr   c                   Û&   ó e Zd ZdZddÑZdÑ ZdÑ ZdS )rÌ   zO
    Representation of a socket which is bound to an address and listening
    r   c                 Ûº  ó t          j         t          t           |¶  ´        ¶  ´        | _        	 t          j        dk    r0| j        †                    t           j        t           j        d¶  ´         | j        †                    d¶  ´         | j        †	                    |¶  ´         | j        †
                    |¶  ´         | j        †                    ¶   ´         | _        n(# t          $ r | j        †                    ¶   ´          Ç w xY w|| _        d | _        |dk    r>t#          j        |¶  ´        s*t#          j        | t          j        |fd¨¶  ´        | _        d S d | _        d S )N⁄posixr   Tr   r   ©⁄args⁄exitpriority)r4   ⁄getattr⁄_socketr(   ⁄name⁄
setsockopt⁄
SOL_SOCKET⁄SO_REUSEADDRr
  ⁄bind⁄listen⁄getsocknamer¸   rP   rW   ⁄_familyr˛   r   r;   ⁄Finalize⁄unlink⁄_unlink)rE   r<   r.   rÚ   s       r   rI   zSocketListener.__init__F  sF  Ä ›î}•W≠V∞V—%<‘%<—=‘=àå	Âåwò'“!–!ÿî◊'“'≠‘(9›(.‘(;∏QÒ@Ù @ @‡åL◊$“$†T—*‘*–*ÿåL◊“òg—&‘&–&ÿåL◊“†—(‘(–(ÿ úL◊4“4—6‘6àDåMàM¯› 	 	 	ÿåL◊“— ‘ – ÿ	¯¯¯ àåÿ"à‘‡êY“–•t‘'H»—'Q‘'Q–Âú=ÿïbîi†w†j∏qÒ Ù àDåLàLàL  àDåLàLàLs   ÆB,C √%D c                 Û∞   ó | j         †                    ¶   ´         \  }| _        |†                    d¶  ´         t	          |†                    ¶   ´         ¶  ´        S )NT)r4  rı   r˛   r
  r…   r  ©rE   ⁄ss     r   rı   zSocketListener.accept_  sE   Ä ÿ!%§◊!4“!4—!6‘!6—àà4‘ÿ	èäêd—‘–›ò!ü(ö(ô*ú*—%‘%–%r   c                 Û≤   ó 	 | j         †                    ¶   ´          | j        }|Åd | _         |¶   ´          d S d S # | j        }|Åd | _         |¶   ´          w w xY wr   )r4  rW   r?  )rE   r>  s     r   rW   zSocketListener.closed  sr   Ä 	ÿåL◊“— ‘ – ‡î\àFÿ–!ÿ#êîÿêëîêêê "–!¯ î\àFÿ–!ÿ#êîÿêëîêê "¯¯¯s	   Ç9 πAN)r   )ró   rò   rô   r∆   rI   rı   rW   rå   r   r   rÌ   rÌ   B  sP   Ä Ä Ä Ä Ä         2& & &
    r   rÌ   c                 Û8  ó t          | ¶  ´        }t          j        t          t          |¶  ´        ¶  ´        5 }|†                    d¶  ´         |†                    | ¶  ´         t          |†                    ¶   ´         ¶  ´        cddd¶  ´         S # 1 swxY w Y   dS )zO
    Return a connection object connected to the socket given by `address`
    TN)r=   r4   r3  r
  ⁄connectr…   r  )r<   r.   rB  s      r   r  r  n  s√   Ä ı ò'—"‘"ÄF›	åù•®—/‘/—	1‘	1 &∞Qÿ	èäêd—‘–ÿ	è	ä	ê'—‘–›ò!ü(ö(ô*ú*—%‘%& & & &Ò &Ù & & & & & & &¯¯¯ & & & & & &s   ∑AB¬B¬Bc                   Û>   ó e Zd ZdZddÑZd	dÑZdÑ ZedÑ ¶   ´         ZdS )
rÎ   z0
        Representation of a named pipe
        Nc                 ÛÙ   ó || _         | †                    d¨¶  ´        g| _        d | _        t	          j        d| j         ¶  ´         t	          j        | t          j        | j        | j         fd¨¶  ´        | _	        d S )NT)⁄firstz listener created with address=%rr   r0  )
r¸   ⁄_new_handle⁄_handle_queuer˛   r   ⁄	sub_debugr=  rÎ   ⁄_finalize_pipe_listenerrW   )rE   r<   rÚ   s      r   rI   zPipeListener.__init__Ç  su   Ä ÿ#àDåMÿ"&◊"2“"2∏–"2—">‘">–!?àD‘‡"&àD‘›åN–=∏tº}—M‘M–M›úÿïl‘:ÿ‘(®$¨-–8¿qÒ Ù àDåJàJàJr   Fc           
      Û.  ó t           j        t           j        z  }|r|t           j        z  }t          j        | j        |t           j        t           j        z  t           j        z  t           j	        t          t          t           j        t           j        ¶  ´        S r   )r¢   r  r  r  r  r¸   r  r  r  ⁄PIPE_UNLIMITED_INSTANCESr  r   r!  )rE   rH  ⁄flagss      r   rI  zPipeListener._new_handleç  sp   Ä ›‘.µ‘1M—MàEÿ ?ÿù‘>—>ê›‘*ÿîòu›‘)≠G‘,I—I›‘!Ò"Â‘0µ'Ω7›‘,≠g¨lÒÙ  r   c                 Ûd  ó | j         †                    | †                    ¶   ´         ¶  ´         | j         †                    d¶  ´        }	 t	          j        |d¨¶  ´        }	 t	          j        |j        gdt          ¶  ´        }n.#  |†	                    ¶   ´          t	          j
        |¶  ´         Ç xY w	 |†                    d¶  ´        \  }}|dk    sJ ÇnR# |†                    d¶  ´        \  }}|dk    sJ Çw xY w# t          $ r }|j        t          j        k    rÇ Y d }~nd }~ww xY wt          |¶  ´        S )Nr   Tr†   F)rJ  ⁄appendrI  ⁄popr¢   r%  r•   r¶   r   rß   r«   r®   rP   r∑   ⁄ERROR_NO_DATArú   )rE   rF   r©   ⁄resr,  r™   rø   s          r   rı   zPipeListener.acceptô  sT  Ä ÿ‘◊%“%†d◊&6“&6—&8‘&8—9‘9–9ÿ‘'◊+“+®A—.‘.àF$›‘-®f¿–F—F‘Fê	$›!‘8ÿúò
†E≠8Ò5Ù 5êCêC¯ÿóIíIëKîKêK›‘'®—/‘/–/ÿ¯¯¯   ◊3“3∞D—9‘9ëFêAêsÿ†!ö8ò8ò8ò8ò8¯  ◊3“3∞D—9‘9ëFêAêsÿ†!ö8ò8ò8ò8ò8ò8ò8ò8¯ı    ÿî:•‘!6“6–6ÿ 7–6–6–6–6¯¯¯¯¯¯¯ı  "†&—)‘)–)s6   ¡C6 ¡!B ¬ C ¬+B,¬,C √"C3√6
D ƒ DƒD c                 Ûb   ó t          j        d|¶  ´         | D ]}t          j        |¶  ´         åd S )Nz closing listener with address=%r)r   rK  r¢   r«   )⁄queuer<   rF   s      r   rL  z$PipeListener._finalize_pipe_listener∞  sB   Ä ÂåN–=∏w—G‘G–Gÿ , ,ê›‘#†F—+‘+–+–+, ,r   r   )F)	ró   rò   rô   r∆   rI   rI  rı   ⁄staticmethodrL  rå   r   r   rÎ   rÎ   ~  sp   Ä Ä Ä Ä Ä 	 			 		 		 		
	 
	 
	 
		* 	* 	*. 
	, 	,Ò 
å	, 	, 	,r   rÎ   c           	      ÛÓ  ó t          ¶   ´         }	 	 t          j        | d¶  ´         t          j        | t          j        t          j        z  dt          j        t          j        t          j        t          j        ¶  ´        }nG# t          $ r9}|j
        t          j        t          j        fvst          |¶  ´        rÇ Y d}~nd}~ww xY wå∑t          j        |t          j        dd¶  ´         t!          |¶  ´        S )zU
        Return a connection object connected to the pipe given by `address`
        r   ÈË  r   N)r   r¢   ⁄WaitNamedPiper"  r  r  r!  r#  r  rP   r∑   ⁄ERROR_SEM_TIMEOUT⁄ERROR_PIPE_BUSYr   r$  r  rú   )r<   r   ⁄hrø   s       r   r  r  ∂  s  Ä ı âOåOà	›‘%†g®t—4‘4–4›‘&ÿùW‘1µG‘4I—Iÿïwî|•W‘%:›‘0µ'¥,ÒÙ ê ¯ı    ÿî:•g‘&?›&-‘&=&? ? ?›BP–QR—BS‘BS?‡? ? ? ? ?¯¯¯¯¯¯¯	ı" 	‘'ÿçw‘,®d∞DÒ	Ù 	 	ı òa— ‘ – s   ëA.B  ¬ 
C¬
/B>¬>CÈ   s   #CHALLENGE#s	   #WELCOME#s	   #FAILURE#c                 Û  ó dd l }t          |t          ¶  ´        s/t          d†                    t          |¶  ´        ¶  ´        ¶  ´        Çt          j        t          ¶  ´        }| †	                    t          |z   ¶  ´         |†                    ||d¶  ´        †                    ¶   ´         }| †                    d¶  ´        }||k    r| †	                    t          ¶  ´         d S | †	                    t          ¶  ´         t!          d¶  ´        Ç)Nr   ˙ Authkey must be bytes, not {0!s}⁄md5È   zdigest received was wrong)⁄hmacrÓ   rÔ   r,   ⁄formatr7   r(   ⁄urandom⁄MESSAGE_LENGTHrn   ⁄	CHALLENGE⁄new⁄digestry   ⁄WELCOME⁄FAILUREr	   ©⁄
connectionrÛ   rc  ⁄messageri  ⁄responses         r   rˆ   rˆ   €  sÓ   Ä ÿÄKÄKÄK›êgùu—%‘% F›ÿ.◊5“5µd∏7±m¥m—D‘DÒFÙ F 	FÂåjù—(‘(ÄGÿ◊“ù)†g—-—.‘.–.ÿèXäXêgòw®—.‘.◊5“5—7‘7ÄFÿ◊$“$†S—)‘)ÄHÿê6“–ÿ◊“ùg—&‘&–&–&–&‡◊“ùg—&‘&–&›!–"=—>‘>–>r   c                 Û6  ó dd l }t          |t          ¶  ´        s/t          d†                    t          |¶  ´        ¶  ´        ¶  ´        Ç| †                    d¶  ´        }|d t          t          ¶  ´        Ö         t          k    sJ d|z  ¶   ´         Ç|t          t          ¶  ´        d Ö         }|†	                    ||d¶  ´        †
                    ¶   ´         }| †                    |¶  ´         | †                    d¶  ´        }|t          k    rt          d¶  ´        Çd S )Nr   r`  rb  zmessage = %rra  zdigest sent was rejected)rc  rÓ   rÔ   r,   rd  r7   ry   r{   rg  rh  ri  rn   rj  r	   rl  s         r   r˜   r˜   Í  s  Ä ÿÄKÄKÄK›êgùu—%‘% F›ÿ.◊5“5µd∏7±m¥m—D‘DÒFÙ F 	F‡◊#“#†C—(‘(ÄGÿê?ïCù	ëNîNê?‘#•y“0–0–0∞.¿7—2J—0‘0–0ÿïcù)ënînêoêo‘&ÄGÿèXäXêgòw®—.‘.◊5“5—7‘7ÄFÿ◊“ò&—!‘!–!ÿ◊$“$†S—)‘)ÄHÿï7“–›!–"<—=‘=–= –r   c                   Û    ó e Zd ZdÑ ZdÑ ZdÑ ZdS )⁄ConnectionWrapperc                 Û|   ó || _         || _        || _        dD ]#}t          ||¶  ´        }t	          | ||¶  ´         å$d S )N)r`   rW   rä   ry   rn   )⁄_conn⁄_dumps⁄_loadsr3  ⁄setattr)rE   ⁄connrq   rÉ   ⁄attrrs   s         r   rI   zConnectionWrapper.__init__˝  sT   Ä ÿàå
ÿàåÿàåÿK 	% 	%àD›ò$†—%‘%àC›êDò$†—$‘$–$–$	% 	%r   c                 Ûd   ó | †                     |¶  ´        }| j        †                    |¶  ´         d S r   )ru  rt  rn   )rE   rs   rB  s      r   rt   zConnectionWrapper.send  s/   Ä ÿèKäKò—‘àÿå
◊“òa— ‘ – – – r   c                 Û^   ó | j         †                    ¶   ´         }| †                    |¶  ´        S r   )rt  ry   rv  rA  s     r   rÖ   zConnectionWrapper.recv  s%   Ä ÿåJ◊!“!—#‘#àÿè{ä{ò1â~å~–r   N)ró   rò   rô   rI   rt   rÖ   rå   r   r   rr  rr  ¸  sA   Ä Ä Ä Ä Ä % % %! ! !    r   rr  c                 Ûf   ó t           †                    | fd d d d¶  ´        †                    d¶  ´        S )Nr   ˙utf-8)⁄	xmlrpclibrq   ⁄encode)rs   s    r   ⁄
_xml_dumpsrÄ    s,   Ä ›è?ä?òCò6†4®®t∞Q—7‘7◊>“>∏w—G‘G–Gr   c                 Ûj   ó t           †                    | †                    d¶  ´        ¶  ´        \  \  }}|S )Nr}  )r~  rÉ   ⁄decode)rB  rs   ⁄methods      r   ⁄
_xml_loadsrÑ    s*   Ä ›ó_í_†QßX¢X®g—%6‘%6—7‘7ÅNÅFÄSàFÿÄJr   c                   Û   ó e Zd ZdÑ ZdS )⁄XmlListenerc                 Ûx   ó dd l ma t          †                    | ¶  ´        }t          |t          t          ¶  ´        S ©Nr   )⁄xmlrpc.client⁄clientr~  r   rı   rr  rÄ  rÑ  rr   s     r   rı   zXmlListener.accept  s7   Ä ‡)–)–)–)–)–)›èoäoòd—#‘#à› †•jµ*—=‘=–=r   N)ró   rò   rô   rı   rå   r   r   rÜ  rÜ    s#   Ä Ä Ä Ä Ä > > > > >r   rÜ  c                  ÛX   ó dd l ma t          t	          | i |§ét
          t          ¶  ´        S rà  )râ  rä  r~  rr  r   rÄ  rÑ  )r1  ⁄kwdss     r   ⁄	XmlClientrç    s3   Ä ‡%–%–%–%–%–%›ùV†T–2®T–2–2µJ≈
—K‘K–Kr   c                 Û∫  ó t          | ¶  ´        }g }|r«t          j        |d|¶  ´        }|t          k    rn•t          |cxk    rt          t          |¶  ´        z   k     rn n|t          z  }nDt          |cxk    rt          t          |¶  ´        z   k     rn n|t          z  }nt          d¶  ´        Ç|†                    ||         ¶  ´         ||dz   d Ö         }d}|∞«|S )NFzShould not get herer   r   )	⁄listr¢   r•   r   r   r{   r   r∫   rQ  )⁄handlesr   ⁄L⁄readyrT  s        r   ⁄_exhaustive_waitrì  $  s˛   Ä ı êâMåMàÿàÿ 	›‘0∞∞E∏7—C‘CàCÿïl“"–"ÿ›†#–>–>“>–>≠Ω∏Aπº—(>“>–>–>–>–>ÿï}—$êê›!†S–D–D“D–D’+;Ωc¿!πfºf—+D“D–D–D–D–Dÿ’'—'êêÂ"–#8—9‘9–9ÿèLäLòò3ú— ‘ – ÿê#êaë%ê&ê&î	àAÿàG  	 àr   c                 Û¨  á
áó |Ät           }n|dk     rd}nt          |dz  dz   ¶  ´        }t          | ¶  ´        } i äg }t          ¶   ´         ä
t          ¶   ´         }	 | D ê]B}	 t	          |d¶  ´        }	 t          j         |¶   ´         dd¶  ´        \  }}n*# t          $ r}d|j        }}|t          vrÇ Y d}~nd}~ww xY w|t
          j
        k    r |†                    |¶  ´         |â|j        <   åë|rpt          j        ¶   ´         ddÖ         dk    rQ	 |†                    d	¶  ´        \  }	}n# t          $ r}|j        }Y d}~nd}~ww xY w|st!          |d
¶  ´        rd|_        â
†                    |¶  ´         d}êå# t&          $ r |â|†                    ¶   ´         <   Y êå@w xY wt+          â†                    ¶   ´         |¶  ´        }|D ]}|†                    ¶   ´          å|D ]ì}	 |†                    d¶  ´        \  }	}n(# t          $ r}|j        }|t          vrÇ Y d}~nd}~ww xY w|t
          j        k    r?â|j                 }â
†                    |¶  ´         |dk    rt!          |d
¶  ´        rd|_        åîn¥# |D ]}|†                    ¶   ´          å|D ]ì}	 |†                    d¶  ´        \  }	}n(# t          $ r}|j        }|t          vrÇ Y d}~nd}~ww xY w|t
          j        k    r?â|j                 }â
†                    |¶  ´         |dk    rt!          |d
¶  ´        rd|_        åîw xY wâ
†                    àfdÑ|D ¶   ´         ¶  ´         à
fdÑ| D ¶   ´         S )˙ó
        Wait till an object in object_list is ready/readable.

        Returns list of those objects in object_list which are ready/readable.
        Nr   rY  g      ‡?r`   TÈ   )È   rñ  FrØ   c              3   Û(   ïK  ó | ]}â|         V ó åd S r   rå   )⁄.0r]  ⁄waithandle_to_objs     Är   ˙	<genexpr>zwait.<locals>.<genexpr>Ö  s)   ¯Ë Ë Ä –I–I∞a–.®q‘1–I–I–I–I–I–Ir   c                 Û   ïó g | ]}|âv Ø|ëå	S rå   rå   )rô  ⁄o⁄ready_objectss     Är   ˙
<listcomp>zwait.<locals>.<listcomp>Ü  s#   ¯Ä –=–=–=êa®!®}–*<–*<ê–*<–*<–*<r   )r   ⁄intrè  ⁄setr3  r¢   r≥   rP   r∑   ⁄_ready_errorsr§   rQ  r¶   r1   ⁄getwindowsversionr®   r3   rØ   ⁄add⁄AttributeErrorrA   rì  ⁄keysrß   ⁄ERROR_OPERATION_ABORTED⁄update)⁄object_listr   ⁄ov_list⁄ready_handlesrù  r`   r©   r™   rø   r,  rû  rö  s             @@r   r   r   :  sX  ¯¯Ä  à?›àGàGÿêqä[à[ÿàGàGÂò'†Dô.®3—.—/‘/àGÂò;—'‘'àÿ–ÿà›ôúà›ôúà6	8ÿ  $Ò $ê$›$†Q®—1‘1êF
"›")‘"2∞6∞6±8¥8∏Q¿—"E‘"EôòòCòC¯›" " " "ÿ"&®¨
òCòÿ•m–3–3ÿ! 4–3–3–3–3¯¯¯¯"¯¯¯ ùg‘6“6–6ÿüö†r—*‘*–*ÿ67–)®"¨(—3–3
  <•#‘"7—"9‘"9∏"∏1∏"‘"=¿“"G–"G1ÿ)+◊)?“)?¿—)F‘)F°††3†3¯›#* 1 1 1ÿ&'§j††††††¯¯¯¯1¯¯¯‡#& <≠7∞1–6J—+K‘+K <ÿ7;†‘ 4ÿ%◊)“)®!—,‘,–,ÿ"#òô¯ı7 & 9 9 9ÿ78–%†aßk¢k°m§m—4–4—49¯¯¯ı: -–->◊-C“-C—-E‘-E¿w—O‘OàM   êÿó	í	ëîêê  8 8êÿ◊3“3∞D—9‘9ëFêAêsês¯›   ÿú*êCÿ•-–/–/ÿ 0–/–/–/–/¯¯¯¯¯¯¯ ù'‘9“9–9ÿ)®"¨(‘3êAÿ!◊%“%†a—(‘(–(ÿòaíxêxı #†1–&:—;‘; 8ÿ37òA‘0¯8¯	   êÿó	í	ëîêê  8 8êÿ◊3“3∞D—9‘9ëFêAêsês¯›   ÿú*êCÿ•-–/–/ÿ 0–/–/–/–/¯¯¯¯¯¯¯ ù'‘9“9–9ÿ)®"¨(‘3êAÿ!◊%“%†a—(‘(–(ÿòaíxêxı #†1–&:—;‘; 8ÿ37òA‘0¯8¯¯¯  	◊“–I–I–I–I∏=–I—I‘I—I‘I–Iÿ=–=–=–=ò;–=—=‘=–=s¬   ¡I3 ¡!E9¡2!B¬I3 ¬
B;¬B6¬1I3 ¬6B;¬;AI3 ƒD)ƒ(I3 ƒ)
Eƒ3D?ƒ:I3 ƒ?E≈5I3 ≈9!F∆I3 ∆F∆%I3 «!G:«:
H»H»H…3L$ J+ *L$ +
K	 5K	ÀL$ÀK	ÀAL$⁄PollSelectorc                 Ûn  ó t          ¶   ´         5 }| D ]"}|†                    |t          j        ¶  ´         å#|Åt	          j        ¶   ´         |z   }	 |†                    |¶  ´        }|rdÑ |D ¶   ´         cddd¶  ´         S |Å*|t	          j        ¶   ´         z
  }|dk     r|cddd¶  ´         S å\# 1 swxY w Y   dS )rï  NTc                 Û"   ó g | ]\  }}|j         ëåS rå   )⁄fileobj)rô  ⁄key⁄eventss      r   rü  zwait.<locals>.<listcomp>§  s   Ä –C–C–C©M®S∞&òCúK–C–C–Cr   r   )⁄_WaitSelector⁄register⁄	selectors⁄
EVENT_READr   r   ⁄select)r©  r   ⁄selectorrs   ⁄deadlinerí  s         r   r   r   î  s4  Ä ı â_å_ 	)†ÿ" = =êÿ◊!“!†#•y‘';—<‘<–<–<‡–"›ú>—+‘+®g—5ê)ÿ üö®—0‘0êÿ )ÿC–C∏U–C—C‘C	) 	) 	) 	)Ò 	)Ù 	) 	) 	) –*ÿ"*≠T¨^—-=‘-=—"=òÿ"†Qö;ò;ÿ#(	) 	) 	) 	)Ò 	)Ù 	) 	) 	))	) 	) 	) 	)¯¯¯ 	) 	) 	) 	) 	) 	)s   èA!B*¡=B*¬)B*¬*B.¬1B.c                 Û  ó | †                     ¶   ´         }t          j        |t          j        t          j        ¶  ´        5 }ddlm} |†                    |¶  ´        }t          || j	        | j
        ffcd d d ¶  ´         S # 1 swxY w Y   d S )Nr   )⁄resource_sharer)r`   r4   ⁄fromfdr   ⁄SOCK_STREAMr$   r∫  ⁄	DupSocket⁄rebuild_connectionrG   rH   )rx  rF   rB  r∫  ⁄dss        r   ⁄reduce_connectionr¿  ∞  s‘   Ä ÿóíëîà›å]ò6•6§>µ6‘3E—F‘F 	J»!ÿ)–)–)–)–)–)ÿ ◊*“*®1—-‘-àB›%®®D¨M∏4º=–'I–I	J 	J 	J 	JÒ 	JÙ 	J 	J 	J 	J 	J 	J 	J¯¯¯ 	J 	J 	J 	J 	J 	Js   ø1A=¡=B¬Bc                 Ûp   ó | †                     ¶   ´         }t          |†                     ¶   ´         ||¶  ´        S r   ©r  r…   )rø  rG   rH   ⁄socks       r   ræ  ræ  ∂  s)   Ä ÿèyäyâ{å{à›ò$ü+ö+ô-ú-®∞8—<‘<–<r   c                 Û“   ó | j         rt          j        nd| j        rt          j        ndz  }t          j        | †                    ¶   ´         |¶  ´        }t          || j         | j        ffS rà  )	rG   r¢   ⁄FILE_GENERIC_READrH   ⁄FILE_GENERIC_WRITEr   ⁄	DupHandler`   ⁄rebuild_pipe_connection)rx  r'  ⁄dhs      r   ⁄reduce_pipe_connectionr   ª  s^   Ä ÿ04¥–Dï7‘,–,¿1ÿ15¥–Eï7‘-–-¿AÒGàÂ‘ †ß¢°§∞—7‘7à›&®®T¨]∏DºM–(J–J–Jr   c                 ÛL   ó | †                     ¶   ´         }t          |||¶  ´        S r   )r  rú   )r…  rG   rH   rF   s       r   r»  r»  ¿  s!   Ä ÿóíëîà›òf†h∞—9‘9–9r   c                 Ûz   ó t          j        | †                    ¶   ´         ¶  ´        }t          || j        | j        ffS r   )r   ⁄DupFdr`   ræ  rG   rH   )rx  ⁄dfs     r   r¿  r¿  ∆  s/   Ä ›å_òTü[ö[ô]ú]—+‘+à›!†B®¨∞t¥}–#E–E–Er   c                 ÛL   ó | †                     ¶   ´         }t          |||¶  ´        S r   r¬  )rŒ  rG   rH   ⁄fds       r   ræ  ræ  …  s!   Ä ÿèYäYâ[å[à›ò"òh®—1‘1–1r   )NN)Tr   )I⁄__all__r∞   r(   r1   r4   rŸ   r   r%   ⁄	itertoolsr„   r$   r   r	   r
   ⁄contextr   ⁄ForkingPicklerrp   r¢   r   r   r   r   ⁄ImportErrorr2   r  ⁄CONNECTION_TIMEOUT⁄countr+   rÍ   ⁄familiesr3   r   r   r/   r5   r=   r?   rú   r…   ⁄objectr   r   r   rÌ   r  rÎ   r  rf  rg  rj  rk  rˆ   r˜   rr  rÄ  rÑ  rÜ  rç  rì  r∏   ⁄ERROR_NETNAME_DELETEDr¢  r   r¥  r¨  r≤  ⁄SelectSelectorr¿  ræ  r≥  r   r»  rå   r   r   ˙<module>r‹     só   3–
2–
2Ä‡ 	Ä	Ä	Ä	ÿ 	Ä	Ä	Ä	ÿ 
Ä
Ä
Ä
ÿ ÄÄÄÿ ÄÄÄÿ ÄÄÄÿ ÄÄÄÿ – – – ‡ – – – ‡ – – – – – ‡ 1– 1– 1– 1– 1– 1– 1– 1ÿ – – – – – ÿ‘*ÄÿÄNÄNÄNÿO–O–O–O–O–O–O–O–O–O–O–O–O¯ÿ   ÿ
Ñ|êw“–ÿÿÄGÄGÄG¯¯¯ Ä‡– ‡ê	î—!‘!Ä‡Äÿà;Ä‡
Ä7à6ê9—‘ ÿÄNÿêê—ÄH‡Ñ<ê7“–ÿÄNÿêê—ÄH - & & & &     0 0 0
F 
F 
FF F F&T T T T TÒ TÙ T Tn  OM M M M MòÒ MÙ M M`M M M M MêÒ MÙ M Mh: : : : :àvÒ :Ù : :z   * Ñ<ê7“–    && & & &X) ) ) ) )êVÒ )Ù ) )X& & & Ñ<ê7“–6, 6, 6, 6, 6,êvÒ 6,Ù 6, 6,p! ! !> Ä‡Ä	ÿ
Äÿ
Ä? ? ?> > >$    òÒ Ù  H H H  > > > > >ê(Ò >Ù > >L L L Ñ<ê7“–  ( ‘.∞‘0M–NÄML> L> L> L> L>` –––
 Äwàyò.—)‘) 1ÿ!‘.àà‡!‘0à) ) ) )6 Ñ<ê7“–J J J= = = ÄI‘êz–#4—5‘5–5K K K
: : : ÄI‘ê~–'=—>‘>–>–>–>F F F2 2 2 ÄI‘êz–#4—5‘5–5–5–5s   ¡A ¡A,¡+A,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     ß
    §åhM-  „                   Û0  ó d dl Z d dlZd dlZddlmZ ddlmZ dZ G dÑ de¶  ´        Z G dÑ d	e¶  ´        Z	 G d
Ñ de¶  ´        Z
 G dÑ de¶  ´        Z G dÑ de¶  ´        Z G dÑ dej        ¶  ´        Z G dÑ de¶  ´        Zej        dk    r∞ G dÑ dej        ¶  ´        Z G dÑ dej        ¶  ´        Z G dÑ dej        ¶  ´        Z G dÑ de¶  ´        Z G dÑ de¶  ´        Z G dÑ d e¶  ´        Z e¶   ´          e¶   ´          e¶   ´         d!úZej        d"k    r eed#         ¶  ´        ZnP eed$         ¶  ´        Zn> G d%Ñ dej        ¶  ´        Z G d&Ñ de¶  ´        Zd# e¶   ´         iZ eed#         ¶  ´        Zd'Ñ Z ej        ¶   ´         Zd(Ñ Zd)Ñ Zd*Ñ ZdS )+È    NÈ   )⁄process)⁄	reduction© c                   Û   ó e Zd ZdS )⁄ProcessErrorN©⁄__name__⁄
__module__⁄__qualname__r   Û    ˙./usr/lib/python3.11/multiprocessing/context.pyr   r      Û   Ä Ä Ä Ä Ä ÿÄDr   r   c                   Û   ó e Zd ZdS )⁄BufferTooShortNr	   r   r   r   r   r      r   r   r   c                   Û   ó e Zd ZdS )⁄TimeoutErrorNr	   r   r   r   r   r      r   r   r   c                   Û   ó e Zd ZdS )⁄AuthenticationErrorNr	   r   r   r   r   r      r   r   r   c                   ÛÑ  ó e Zd ZeZeZeZeZ eej	        ¶  ´        Z	 eej
        ¶  ´        Z
 eej        ¶  ´        ZdÑ ZdÑ Zd&dÑZdÑ ZdÑ Zd'dÑZd(d
ÑZd(dÑZdÑ Zd)dÑZd*dÑZd*dÑZdÑ Z	 	 d+dÑZdÑ ZdÑ ZddúdÑZddúdÑZdÑ ZdÑ Zd'dÑZ dÑ Z!dÑ Z"dÑ Z#d'dÑZ$d,d!ÑZ%d,d"ÑZ&e'd#Ñ ¶   ´         Z(e(j)        d$Ñ ¶   ´         Z(d%Ñ Z*dS )-⁄BaseContextc                 ÛN   ó t          j        ¶   ´         }|Ät          d¶  ´        Ç|S )z(Returns the number of CPUs in the systemNzcannot determine number of cpus)⁄os⁄	cpu_count⁄NotImplementedError)⁄self⁄nums     r   r   zBaseContext.cpu_count)   s&   Ä Âålânånàÿà;›%–&G—H‘H–H‡àJr   c                 Ûv   ó ddl m}  || †                    ¶   ´         ¨¶  ´        }|†                    ¶   ´          |S )zΩReturns a manager associated with a running server process

        The managers methods such as `Lock()`, `Condition()` and `Queue()`
        can be used to create shared objects.
        r   )⁄SyncManager©⁄ctx)⁄managersr   ⁄get_context⁄start)r   r   ⁄ms      r   ⁄ManagerzBaseContext.Manager1   sF   Ä  	*–)–)–)–)–)ÿàKòD◊,“,—.‘.–/—/‘/àÿ	èäâ	å	à	ÿàr   Tc                 Û$   ó ddl m}  ||¶  ´        S )z1Returns two connection object connected by a piper   )⁄Pipe)⁄
connectionr(   )r   ⁄duplexr(   s      r   r(   zBaseContext.Pipe<   s"   Ä ‡$–$–$–$–$–$ÿàtêFâ|å|–r   c                 ÛJ   ó ddl m}  || †                    ¶   ´         ¨¶  ´        S )z#Returns a non-recursive lock objectr   )⁄Lockr    )⁄synchronizer,   r#   )r   r,   s     r   r,   zBaseContext.LockA   s3   Ä ‡%–%–%–%–%–%ÿàtò◊(“(—*‘*–+—+‘+–+r   c                 ÛJ   ó ddl m}  || †                    ¶   ´         ¨¶  ´        S )zReturns a recursive lock objectr   )⁄RLockr    )r-   r/   r#   )r   r/   s     r   r/   zBaseContext.RLockF   Û3   Ä ‡&–&–&–&–&–&ÿàuò◊)“)—+‘+–,—,‘,–,r   Nc                 ÛL   ó ddl m}  ||| †                    ¶   ´         ¨¶  ´        S )zReturns a condition objectr   )⁄	Conditionr    )r-   r2   r#   )r   ⁄lockr2   s      r   r2   zBaseContext.ConditionK   s5   Ä ‡*–*–*–*–*–*ÿàyò†4◊#3“#3—#5‘#5–6—6‘6–6r   r   c                 ÛL   ó ddl m}  ||| †                    ¶   ´         ¨¶  ´        S )zReturns a semaphore objectr   )⁄	Semaphorer    )r-   r5   r#   )r   ⁄valuer5   s      r   r5   zBaseContext.SemaphoreP   s5   Ä ‡*–*–*–*–*–*ÿàyò†D◊$4“$4—$6‘$6–7—7‘7–7r   c                 ÛL   ó ddl m}  ||| †                    ¶   ´         ¨¶  ´        S )z"Returns a bounded semaphore objectr   )⁄BoundedSemaphorer    )r-   r8   r#   )r   r6   r8   s      r   r8   zBaseContext.BoundedSemaphoreU   s6   Ä ‡1–1–1–1–1–1ÿ–†®4◊+;“+;—+=‘+=–>—>‘>–>r   c                 ÛJ   ó ddl m}  || †                    ¶   ´         ¨¶  ´        S )zReturns an event objectr   )⁄Eventr    )r-   r:   r#   )r   r:   s     r   r:   zBaseContext.EventZ   r0   r   c                 ÛP   ó ddl m}  ||||| †                    ¶   ´         ¨¶  ´        S )zReturns a barrier objectr   )⁄Barrierr    )r-   r<   r#   )r   ⁄parties⁄action⁄timeoutr<   s        r   r<   zBaseContext.Barrier_   s9   Ä ‡(–(–(–(–(–(ÿàwêw†®∞T◊5E“5E—5G‘5G–H—H‘H–Hr   r   c                 ÛL   ó ddl m}  ||| †                    ¶   ´         ¨¶  ´        S )˙Returns a queue objectr   )⁄Queuer    )⁄queuesrB   r#   )r   ⁄maxsizerB   s      r   rB   zBaseContext.Queued   s5   Ä ‡!–!–!–!–!–!ÿàuêW†$◊"2“"2—"4‘"4–5—5‘5–5r   c                 ÛL   ó ddl m}  ||| †                    ¶   ´         ¨¶  ´        S )rA   r   )⁄JoinableQueuer    )rC   rF   r#   )r   rD   rF   s      r   rF   zBaseContext.JoinableQueuei   s5   Ä ‡)–)–)–)–)–)ÿà}òW®$◊*:“*:—*<‘*<–=—=‘=–=r   c                 ÛJ   ó ddl m}  || †                    ¶   ´         ¨¶  ´        S )rA   r   )⁄SimpleQueuer    )rC   rH   r#   )r   rH   s     r   rH   zBaseContext.SimpleQueuen   s3   Ä ‡'–'–'–'–'–'ÿà{òt◊/“/—1‘1–2—2‘2–2r   r   c                 ÛR   ó ddl m}  |||||| †                    ¶   ´         ¨¶  ´        S )zReturns a process pool objectr   )⁄Pool)⁄context)⁄poolrJ   r#   )r   ⁄	processes⁄initializer⁄initargs⁄maxtasksperchildrJ   s         r   rJ   zBaseContext.Pools   sG   Ä  	–––––ÿàtêIò{®H–6Fÿ ◊,“,—.‘.0Ò 0Ù 0 	0r   c                 Û    ó ddl m}  ||g|¢R é S )zReturns a shared objectr   )⁄RawValue)⁄sharedctypesrR   )r   ⁄typecode_or_type⁄argsrR   s       r   rR   zBaseContext.RawValuez   s-   Ä ‡*–*–*–*–*–*ÿàx–(–0®4–0–0–0–0r   c                 Û&   ó ddl m}  |||¶  ´        S )zReturns a shared arrayr   )⁄RawArray)rS   rW   )r   rT   ⁄size_or_initializerrW   s       r   rW   zBaseContext.RawArray   s(   Ä ‡*–*–*–*–*–*ÿàx–(–*=—>‘>–>r   )r3   c                ÛL   ó ddl m}  ||g|¢R || †                    ¶   ´         dúéS )z$Returns a synchronized shared objectr   )⁄Value©r3   r!   )rS   rZ   r#   )r   rT   r3   rU   rZ   s        r   rZ   zBaseContext.ValueÑ   sR   Ä ‡'–'–'–'–'–'ÿàu–% -® - -∞4ÿ◊)“)—+‘+- - - 	-r   c                ÛP   ó ddl m}  ||||| †                    ¶   ´         ¨¶  ´        S )z#Returns a synchronized shared arrayr   )⁄Arrayr[   )rS   r]   r#   )r   rT   rX   r3   r]   s        r   r]   zBaseContext.Arrayä   sD   Ä ‡'–'–'–'–'–'ÿàu–%–':¿ÿ◊)“)—+‘+-Ò -Ù - 	-r   c                 Ûz   ó t           j        dk    r(t          t           dd¶  ´        rddlm}  |¶   ´          dS dS dS )zãCheck whether this is a fake forked process in a frozen executable.
        If so then run code specified by commandline and exit.
        ⁄win32⁄frozenFr   )⁄freeze_supportN)⁄sys⁄platform⁄getattr⁄spawnra   )r   ra   s     r   ra   zBaseContext.freeze_supportê   sV   Ä ı å<ò7“"–"•w≠s∞H∏e—'D‘'D–"ÿ-–-–-–-–-–-ÿàN—‘––– #–"–"–"r   c                 Û"   ó ddl m}  |¶   ´         S )zZReturn package logger -- if it does not already exist then
        it is created.
        r   )⁄
get_logger)⁄utilrg   )r   rg   s     r   rg   zBaseContext.get_loggerò   s"   Ä  	%–$–$–$–$–$ÿàzâ|å|–r   c                 Û$   ó ddl m}  ||¶  ´        S )z8Turn on logging and add a handler which prints to stderrr   )⁄log_to_stderr)rh   rj   )r   ⁄levelrj   s      r   rj   zBaseContext.log_to_stderrü   s$   Ä ‡'–'–'–'–'–'ÿà}òU—#‘#–#r   c                 Û   ó ddl m} dS )zVInstall support for sending connections and sockets
        between processes
        r   )r)   N)⁄ r)   )r   r)   s     r   ⁄allow_connection_picklingz%BaseContext.allow_connection_pickling§   s   Ä  	!– – – – – – – r   c                 Û(   ó ddl m}  ||¶  ´         dS )zÃSets the path to a python.exe or pythonw.exe binary used to run
        child processes instead of sys.executable when using the 'spawn'
        start method.  Useful for people embedding Python.
        r   )⁄set_executableN)re   rp   )r   ⁄
executablerp   s      r   rp   zBaseContext.set_executable¨   s,   Ä 
 	*–)–)–)–)–)ÿàêz—"‘"–"–"–"r   c                 Û(   ó ddl m}  ||¶  ´         dS )zkSet list of module names to try to load in forkserver process.
        This is really just a hint.
        r   )⁄set_forkserver_preloadN)⁄
forkserverrs   )r   ⁄module_namesrs   s      r   rs   z"BaseContext.set_forkserver_preload¥   s-   Ä  	7–6–6–6–6–6ÿ–ò|—,‘,–,–,–,r   c                 Ûñ   ó |Ä| S 	 t           |         }n!# t          $ r t          d|z  ¶  ´        d Çw xY w|†                    ¶   ´          |S )Nzcannot find context for %r)⁄_concrete_contexts⁄KeyError⁄
ValueError⁄_check_available)r   ⁄methodr!   s      r   r#   zBaseContext.get_contextª   sj   Ä ÿà>ÿàK	N›$†V‘,àCàC¯› 	N 	N 	N›–9∏F—B—C‘C»–M	N¯¯¯‡◊“—‘–ÿà
s   Ü î2Fc                 Û   ó | j         S ©N)⁄_name©r   ⁄
allow_nones     r   ⁄get_start_methodzBaseContext.get_start_method≈   s
   Ä ÿåz–r   c                 Û    ó t          d¶  ´        Ç)Nz+cannot set start method of concrete context)ry   ©r   r{   ⁄forces      r   ⁄set_start_methodzBaseContext.set_start_method»   s   Ä ›–F—G‘G–Gr   c                 ÛD   ó t          ¶   ´         †                    d¶  ´        S )z_Controls how objects will be reduced to a form that can be
        shared with other processes.r   )⁄globals⁄get©r   s    r   ⁄reducerzBaseContext.reducerÀ   s   Ä ı âyåyè}ä}ò[—)‘)–)r   c                 Û(   ó |t          ¶   ´         d<   d S )Nr   )rá   )r   r   s     r   rä   zBaseContext.reducer—   s   Ä ‡!*çâ	å	ê+—––r   c                 Û   ó d S r}   r   râ   s    r   rz   zBaseContext._check_available’   s   Ä ÿàr   )Tr}   )r   )NN)r   )NNr   N©F)+r
   r   r   r   r   r   r   ⁄staticmethodr   ⁄current_process⁄parent_process⁄active_childrenr   r&   r(   r,   r/   r2   r5   r8   r:   r<   rB   rF   rH   rJ   rR   rW   rZ   r]   ra   rg   rj   rn   rp   rs   r#   rÅ   rÖ   ⁄propertyrä   ⁄setterrz   r   r   r   r   r      s®  Ä Ä Ä Ä Ä ‡ÄLÿ#ÄNÿÄLÿ-–‡"êl†7‘#:—;‘;ÄOÿ!ê\†'‘"8—9‘9ÄNÿ"êl†7‘#:—;‘;ÄO  	 	 	   
, , ,
- - -
7 7 7 7
8 8 8 8
? ? ? ?
- - -
I I I I
6 6 6 6
> > > >
3 3 3
 ?Aÿ"0 0 0 01 1 1
? ? ?
 37 - - - - - DH - - - - -    $ $ $ $
! ! !# # #- - -      H H H H * *Ò ÑX*
 Ñ^+ +Ò Ñ^+    r   r   c                   Û>   ó e Zd ZdZedÑ ¶   ´         ZedÑ ¶   ´         ZdS )⁄ProcessNc                 Ûd   ó t           †                    ¶   ´         j        †                    | ¶  ´        S r}   )⁄_default_contextr#   rï   ⁄_Popen)⁄process_objs    r   rò   zProcess._Popenﬁ   s%   Ä Â◊+“+—-‘-‘5◊<“<∏[—I‘I–Ir   c                  Ûb   ó t           †                    ¶   ´         j        †                    ¶   ´         S r}   )ró   r#   rï   ⁄_after_forkr   r   r   rõ   zProcess._after_fork‚   s#   Ä Â◊+“+—-‘-‘5◊A“A—C‘C–Cr   ©r
   r   r   ⁄_start_methodré   rò   rõ   r   r   r   rï   rï   ‹   sU   Ä Ä Ä Ä Ä ÿÄMÿJ JÒ Ñ\J D DÒ Ñ\D D Dr   rï   c                   Û@   á ó e Zd ZeZdÑ Zdà fdÑ	Zd	dÑZd	dÑZdÑ Zà xZ	S )
⁄DefaultContextc                 Û"   ó || _         d | _        d S r}   )ró   ⁄_actual_context)r   rK   s     r   ⁄__init__zDefaultContext.__init__È   s   Ä ÿ 'à‘ÿ#à‘––r   Nc                 Û~   ïó |Ä| j         Ä| j        | _         | j         S t          ¶   ´         †                    |¶  ´        S r}   )r°   ró   ⁄superr#   )r   r{   ⁄	__class__s     Är   r#   zDefaultContext.get_contextÌ   s=   ¯Ä ÿà>ÿ‘#–+ÿ'+‘'<ê‘$ÿ‘'–'Âë7î7◊&“&†v—.‘.–.r   Fc                 ÛÑ   ó | j         Å|st          d¶  ´        Ç|Ä|r	d | _         d S | †                    |¶  ´        | _         d S )Nzcontext has already been set)r°   ⁄RuntimeErrorr#   rÉ   s      r   rÖ   zDefaultContext.set_start_methodı   sQ   Ä ÿ‘–+∞E–+›–=—>‘>–>ÿà>òeà>ÿ#'àD‘ ÿàFÿ#◊/“/∞—7‘7à‘––r   c                 ÛH   ó | j         Ä|rd S | j        | _         | j         j        S r}   )r°   ró   r~   r   s     r   rÅ   zDefaultContext.get_start_method˝   s/   Ä ÿ‘–'ÿ ÿêtÿ#'‘#8àD‘ ÿ‘#‘)–)r   c                 Ûû   ó t           j        dk    rdgS t           j        dk    rddgnddg}t          j        r|†                    d¶  ´         |S )Nr_   re   ⁄darwin⁄forkrt   )rb   rc   r   ⁄HAVE_SEND_HANDLE⁄append)r   ⁄methodss     r   ⁄get_all_start_methodsz$DefaultContext.get_all_start_methods  sZ   Ä ›å<ò7“"–"ÿê9–Â+.¨<∏8“+C–+Cêw†–'–'»&–RY–IZàG›‘) -ÿóíò|—,‘,–,ÿàNr   r}   rç   )
r
   r   r   rï   r¢   r#   rÖ   rÅ   rØ   ⁄__classcell__)r•   s   @r   rü   rü   Ê   sà   ¯Ä Ä Ä Ä Ä ÿÄG$ $ $/ / / / / /8 8 8 8* * * *      r   rü   r_   c                   Û(   ó e Zd ZdZedÑ ¶   ´         ZdS )⁄ForkProcessr´   c                 Û$   ó ddl m}  || ¶  ´        S ©Nr   )⁄Popen)⁄
popen_forkrµ   ©rô   rµ   s     r   rò   zForkProcess._Popen  s$   Ä ‡)–)–)–)–)–)ÿê5ò—%‘%–%r   N©r
   r   r   rù   ré   rò   r   r   r   r≤   r≤     s2   Ä Ä Ä Ä Ä ÿàÿ		& 	&Ò 
å	& 	& 	&r   r≤   c                   Û>   ó e Zd ZdZedÑ ¶   ´         ZedÑ ¶   ´         ZdS )⁄SpawnProcessre   c                 Û$   ó ddl m}  || ¶  ´        S r¥   )⁄popen_spawn_posixrµ   r∑   s     r   rò   zSpawnProcess._Popen  Û$   Ä ‡0–0–0–0–0–0ÿê5ò—%‘%–%r   c                  Û   ó d S r}   r   r   r   r   rõ   zSpawnProcess._after_fork"  Û	   Ä  àDr   Nrú   r   r   r   r∫   r∫     ÛM   Ä Ä Ä Ä Ä ÿàÿ		& 	&Ò 
å	& 
	 	Ò 
å	 	 	r   r∫   c                   Û(   ó e Zd ZdZedÑ ¶   ´         ZdS )⁄ForkServerProcessrt   c                 Û$   ó ddl m}  || ¶  ´        S r¥   )⁄popen_forkserverrµ   r∑   s     r   rò   zForkServerProcess._Popen)  s$   Ä ‡/–/–/–/–/–/ÿê5ò—%‘%–%r   Nr∏   r   r   r   r¬   r¬   '  s2   Ä Ä Ä Ä Ä ÿ$àÿ		& 	&Ò 
å	& 	& 	&r   r¬   c                   Û   ó e Zd ZdZeZdS )⁄ForkContextr´   N)r
   r   r   r~   r≤   rï   r   r   r   r∆   r∆   .  s   Ä Ä Ä Ä Ä ÿàÿàààr   r∆   c                   Û   ó e Zd ZdZeZdS ©⁄SpawnContextre   N©r
   r   r   r~   r∫   rï   r   r   r   r…   r…   2  Û   Ä Ä Ä Ä Ä ÿàÿàààr   r…   c                   Û   ó e Zd ZdZeZdÑ ZdS )⁄ForkServerContextrt   c                 Û<   ó t           j        st          d¶  ´        Çd S )Nz%forkserver start method not available)r   r¨   ry   râ   s    r   rz   z"ForkServerContext._check_available9  s)   Ä ›‘- J› –!H—I‘I–IJ Jr   N)r
   r   r   r~   r¬   rï   rz   r   r   r   rÕ   rÕ   6  s2   Ä Ä Ä Ä Ä ÿàÿ#à	J 	J 	J 	J 	Jr   rÕ   )r´   re   rt   r™   re   r´   c                   Û>   ó e Zd ZdZedÑ ¶   ´         ZedÑ ¶   ´         ZdS )r∫   re   c                 Û$   ó ddl m}  || ¶  ´        S r¥   )⁄popen_spawn_win32rµ   r∑   s     r   rò   zSpawnProcess._PopenM  rΩ   r   c                  Û   ó d S r}   r   r   r   r   rõ   zSpawnProcess._after_forkR  rø   r   Nrú   r   r   r   r∫   r∫   K  r¿   r   c                   Û   ó e Zd ZdZeZdS r»   r    r   r   r   r…   r…   W  rÀ   r   c                 Û4   ó t           |          t          _        d S r}   )rw   ró   r°   )r{   s    r   ⁄_force_start_methodr’   d  s   Ä ›'9∏&‘'A’‘$–$–$r   c                  Û.   ó t          t          dd ¶  ´        S )N⁄spawning_popen)rd   ⁄_tlsr   r   r   ⁄get_spawning_popenrŸ   m  s   Ä ›ï4–)®4—0‘0–0r   c                 Û   ó | t           _        d S r}   )rÿ   r◊   )⁄popens    r   ⁄set_spawning_popenr‹   p  s   Ä ÿÖD‘––r   c                 Ûj   ó t          ¶   ´         Ä$t          dt          | ¶  ´        j        z  ¶  ´        Çd S )NzF%s objects should only be shared between processes through inheritance)rŸ   rß   ⁄typer
   )⁄objs    r   ⁄assert_spawningr‡   s  s>   Ä ›—‘–#›#›%)®#°Y§Y‘%7Ò8ÒÙ  	 $–#r   ) r   rb   ⁄	threadingrm   r   r   ⁄__all__⁄	Exceptionr   r   r   r   ⁄objectr   ⁄BaseProcessrï   rü   rc   r≤   r∫   r¬   r∆   r…   rÕ   rw   ró   r’   ⁄localrÿ   rŸ   r‹   r‡   r   r   r   ˙<module>rÁ      sÒ  ÿ 	Ä	Ä	Ä	ÿ 
Ä
Ä
Ä
ÿ – – – ‡ – – – – – ÿ – – – – – ‡
Ä	 	 	 	 	ê9Ò 	Ù 	 		 	 	 	 	ê\Ò 	Ù 	 		 	 	 	 	ê<Ò 	Ù 	 		 	 	 	 	ò,Ò 	Ù 	 	x x x x xê&Ò xÙ x x|D D D D Dàg‘!Ò DÙ D D% % % % %ê[Ò %Ù % %X Ñ<ê7“–& & & & &êg‘)Ò &Ù & &
 
 
 
 
êw‘*Ò 
Ù 
 
& & & & &òG‘/Ò &Ù & &    êkÒ Ù      ê{Ò Ù  J J J J JòKÒ JÙ J J êëîÿêëîÿ'–'—)‘) –
 Ñ|êx“– *ò>–*<∏W‘*E—F‘F––‡)ò>–*<∏V‘*D—E‘E––
 
 
 
 
êw‘*Ò 
Ù 
 
    ê{Ò Ù  
 	êêëî– &ê~–&8∏‘&A—B‘B–B B B ÄyÑ—‘Ä1 1 1         r                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ß
    §åhn/  „                   ÛD  ó d dl Z d dlZd dlZd dlZd dlZd dlZd dlZd dlZd dlZddl	m
Z
 ddl	mZ ddlmZ ddl	mZ ddl	mZ ddl	mZ g d	¢Zd
Z ej        d¶  ´        Z G dÑ de¶  ´        ZddÑZdÑ ZdÑ ZdÑ Z e¶   ´         Zej        Zej        Zej        Zej        ZdS )È    NÈ   )⁄
connection)⁄process)⁄	reduction)⁄resource_tracker)⁄spawn)⁄util)⁄ensure_running⁄get_inherited_fds⁄connect_to_new_process⁄set_forkserver_preloadÈ   ⁄qc                   Û8   ó e Zd ZdÑ ZdÑ ZdÑ ZdÑ ZdÑ ZdÑ ZdÑ Z	dS )	⁄
ForkServerc                 Û~   ó d | _         d | _        d | _        d | _        t	          j        ¶   ´         | _        dg| _        d S )N⁄__main__)⁄_forkserver_address⁄_forkserver_alive_fd⁄_forkserver_pid⁄_inherited_fds⁄	threading⁄Lock⁄_lock⁄_preload_modules©⁄selfs    ˙1/usr/lib/python3.11/multiprocessing/forkserver.py⁄__init__zForkServer.__init__"   sA   Ä ÿ#'à‘ ÿ$(à‘!ÿ#à‘ÿ"à‘›î^—%‘%àå
ÿ!+†à‘––Û    c                 Ûn   ó | j         5  | †                    ¶   ´          d d d ¶  ´         d S # 1 swxY w Y   d S ©N)r   ⁄_stop_unlockedr   s    r   ⁄_stopzForkServer._stop*   sÄ   Ä ‡åZ 	" 	"ÿ◊“—!‘!–!	" 	" 	"Ò 	"Ù 	" 	" 	" 	" 	" 	" 	" 	"¯¯¯ 	" 	" 	" 	" 	" 	"s   à*™.±.c                 Û  ó | j         Äd S t          j        | j        ¶  ´         d | _        t          j        | j         d¶  ´         d | _         t          j        | j        ¶  ´        st          j        | j        ¶  ´         d | _        d S )Nr   )	r   ⁄os⁄closer   ⁄waitpidr	   ⁄is_abstract_socket_namespacer   ⁄unlinkr   s    r   r#   zForkServer._stop_unlocked/   sÅ   Ä ÿ‘–'ÿàFı 	åê‘*—+‘+–+ÿ$(à‘!Â
å
ê4‘'®—+‘+–+ÿ#à‘Â‘0∞‘1I—J‘J 	0›åIêd‘.—/‘/–/ÿ#'à‘ – – r    c                 Ûn   ó t          dÑ | j        D ¶   ´         ¶  ´        st          d¶  ´        Ç|| _        dS )z>Set list of module names to try to load in forkserver process.c              3   ÛB   K  ó | ]}t          |¶  ´        t          u V ó åd S r"   )⁄type⁄str)⁄.0⁄mods     r   ˙	<genexpr>z4ForkServer.set_forkserver_preload.<locals>.<genexpr>@   s-   Ë Ë Ä –E–E®ï4òë9î9•–#–E–E–E–E–E–Er    z&module_names must be a list of stringsN)⁄allr   ⁄	TypeError)r   ⁄modules_namess     r   r   z!ForkServer.set_forkserver_preload>   sB   Ä Â–E–E®t‘/D–E—E‘E—E‘E 	F›–D—E‘E–Eÿ -à‘––r    c                 Û   ó | j         S )zîReturn list of fds inherited from parent process.

        This returns None if the current process was not started by fork
        server.
        )r   r   s    r   r   zForkServer.get_inherited_fdsD   s   Ä  ‘"–"r    c                 Ûˆ  ó | †                     ¶   ´          t          |¶  ´        dz   t          k    rt          d¶  ´        Çt	          j        t          j        ¶  ´        5 }|†                    | j        ¶  ´         t          j	        ¶   ´         \  }}t          j	        ¶   ´         \  }}||| j
        t          j        ¶   ´         g}||z  }	 t          j        ||¶  ´         ||ft          j        |¶  ´         t          j        |¶  ´         cddd¶  ´         S #  t          j        |¶  ´         t          j        |¶  ´         Ç xY w# t          j        |¶  ´         t          j        |¶  ´         w xY w# 1 swxY w Y   dS )a;  Request forkserver to create a child process.

        Returns a pair of fds (status_r, data_w).  The calling process can read
        the child process's pid and (eventually) its returncode from status_r.
        The calling process should write to data_w the pickled preparation and
        process data.
        È   ztoo many fdsN)r
   ⁄len⁄MAXFDS_TO_SEND⁄
ValueError⁄socket⁄AF_UNIX⁄connectr   r&   ⁄piper   r   ⁄getfdr   ⁄sendfdsr'   )r   ⁄fds⁄client⁄parent_r⁄child_w⁄child_r⁄parent_w⁄allfdss           r   r   z!ForkServer.connect_to_new_processL   sú  Ä  	◊“—‘–›àsâ8å8êaâ<ù>“)–)›ò^—,‘,–,›å]ù6ú>—*‘* 	"®fÿèNäNò4‘3—4‘4–4› "§°	§	—àHêg› "§°	§	—àGêXÿòw®‘(A›&‘,—.‘.0àF‡êcâMàF	"›‘!†&®&—1‘1–1ÿ†–)ı îò—!‘!–!›îò—!‘!–!!	" 	" 	" 	"Ò 	"Ù 	" 	" 	"¯›îò—"‘"–"›îò—"‘"–"ÿ¯¯¯¯Âîò—!‘!–!›îò—!‘!–!–!¯¯¯!	" 	" 	" 	"¯¯¯ 	" 	" 	" 	" 	" 	"s7   ¡A(E.√D√(E.ƒ+D>ƒ>E≈*E+≈+E.≈.E2≈5E2c                 ÛÏ  áó | j         5  t          j        ¶   ´          | j        Ået	          j        | j        t          j        ¶  ´        \  }}|s	 ddd¶  ´         dS t	          j        | j        ¶  ´         d| _	        d| _        d| _        d}| j
        r9ddhät          j        d¶  ´        }àfdÑ|†                    ¶   ´         D ¶   ´         }ni }t          j        t          j        ¶  ´        5 }t!          j        d¶  ´        }|†                    |¶  ´         t'          j        |¶  ´        st	          j        |d¶  ´         |†                    ¶   ´          t	          j        ¶   ´         \  }}	 |†                    ¶   ´         |g}	||†                    ¶   ´         || j
        |fz  }t          j        ¶   ´         }
|
gt'          j        ¶   ´         z   }|d	|gz  }t'          j        |
||	¶  ´        }n#  t	          j        |¶  ´         Ç xY w	 t	          j        |¶  ´         n# t	          j        |¶  ´         w xY w|| _	        || _        || _        ddd¶  ´         n# 1 swxY w Y   ddd¶  ´         dS # 1 swxY w Y   dS )
zÌMake sure that a fork server is running.

        This can be called from any process.  Note that usually a child
        process will just reuse the forkserver started by its parent, so
        ensure_running() will do nothing.
        NzCfrom multiprocessing.forkserver import main; main(%d, %d, %r, **%r)⁄	main_path⁄sys_path⁄ignorec                 Û$   ïó i | ]\  }}|âv Ø	||ìåS © rM   )r/   ⁄x⁄y⁄desired_keyss      Är   ˙
<dictcomp>z-ForkServer.ensure_running.<locals>.<dictcomp>Ñ   s)   ¯Ä –K–K–K°††A∏∏l–9J–9Jòò1–9J–9J–9Jr    r<   iÄ  z-c)r   r   r
   r   r&   r(   ⁄WNOHANGr'   r   r   r   r   ⁄get_preparation_data⁄itemsr;   r<   r   ⁄arbitrary_address⁄bindr	   r)   ⁄chmod⁄listenr>   ⁄fileno⁄get_executable⁄_args_from_interpreter_flags⁄spawnv_passfds)r   ⁄pid⁄status⁄cmd⁄data⁄listener⁄address⁄alive_r⁄alive_w⁄fds_to_pass⁄exe⁄argsrP   s               @r   r
   zForkServer.ensure_runningi   s  ¯Ä  åZ 1	+ 1	+›‘+—-‘-–-ÿ‘#–/Â új®‘)=Ωrºz—J‘JëêêVÿ ‡1	+ 1	+ 1	+Ò 1	+Ù 1	+ 1	+ 1	+ 1	+ı îò‘2—3‘3–3ÿ+/ê‘(ÿ,0ê‘)ÿ'+ê‘$,àC ‘$ ÿ +®Z–8ê›‘1∞(—;‘;êÿK–K–K–K®Ø™©¨–K—K‘Kêê‡êÂîùvú~—.‘. +∞(›$‘6∞y—A‘Aêÿóíòg—&‘&–&›‘8∏—A‘A -›îHòW†e—,‘,–,ÿóí—!‘!–!ı $&§7°9§9— êò&ÿ#+ß?¢?—#4‘#4∞g–">êKÿòHüOöO—-‘-®w∏‘8Mÿ "Ò "êCÂ‘.—0‘0êCÿò5•4‘#D—#F‘#F—FêDÿòT†3òK—'êD›‘-®c∞4∏—E‘EêCêC¯›îHòW—%‘%–%ÿ¯¯¯ ı
 îHòW—%‘%–%–%¯ïBîHòW—%‘%–%–%¯¯¯ÿ+2ê‘(ÿ,3ê‘)ÿ'*ê‘$3+ + +Ò +Ù + + + + + + +¯¯¯ + + + +11	+ 1	+ 1	+Ò 1	+Ù 1	+ 1	+ 1	+ 1	+ 1	+ 1	+ 1	+ 1	+¯¯¯ 1	+ 1	+ 1	+ 1	+ 1	+ 1	+si   âAI)¡BI)√+A=I≈)A=G'«&H«'G>«>H»I»H-»-I…I)…I	…I)…I	…I)…)I-…0I-N)
⁄__name__⁄
__module__⁄__qualname__r   r$   r#   r   r   r   r
   rM   r    r   r   r       s}   Ä Ä Ä Ä Ä - - -" " "
( ( (. . .# # #" " ":8+ 8+ 8+ 8+ 8+r    r   c           
      ÛŒ
  ó |rÑd|v r[|ÅYdt          j        ¶   ´         _        	 t          j        |¶  ´         t          j        ¶   ´         `n# t          j        ¶   ´         `w xY w|D ]"}	 t          |¶  ´         å# t          $ r Y åw xY wt          j        ¶   ´          t          j
        ¶   ´         \  }}t          j        |d¶  ´         t          j        |d¶  ´         dÑ }t          j        |t          j        t          j        i}	dÑ |	†                    ¶   ´         D ¶   ´         }
t          j        |¶  ´         i }t%          j        t$          j        | ¨¶  ´        5 }t)          j        ¶   ´         5 }|†                    ¶   ´         t.          _        |†                    |t(          j        ¶  ´         |†                    |t(          j        ¶  ´         |†                    |t(          j        ¶  ´         	 	 	 dÑ |†                    ¶   ´         D ¶   ´         }|rnå"||v r*t          j        |d	¶  ´        d
k    s
J d¶   ´         Çt:          Ç||v rÃt          j        |d¶  ´         	 	 t          j        dt          j        ¶  ´        \  }}n# t@          $ r Y nÜw xY w|dk    rn{|†!                    |d¶  ´        }|ÅKt          j"        |¶  ´        }	 tG          ||¶  ´         n# tH          $ r Y nw xY wt          j%        |¶  ´         ntM          j'        d|z  ¶  ´         å∂||v êr|†(                    ¶   ´         d         5 }tS          j*        |tV          d	z   ¶  ´        }tY          |¶  ´        tV          k    r/t[          d†.                    tY          |¶  ´        ¶  ´        ¶  ´        Ç|^}}}|†%                    ¶   ´          t          j/        ¶   ´         }|dk    rÊd	}	 |†%                    ¶   ´          |†%                    ¶   ´          ||||g}|†0                    |†1                    ¶   ´         ¶  ´         te          ||||
¶  ´        }nM# tf          $ r@ ti          j5        ti          j6        ¶   ´         é  th          j7        †8                    ¶   ´          Y nw xY wt          j9        |¶  ´         nm# t          j9        |¶  ´         w xY w	 tG          ||¶  ´         n# tH          $ r Y nw xY w|||<   t          j%        |¶  ´         |D ]}t          j%        |¶  ´         åddd¶  ´         n# 1 swxY w Y   n-# tt          $ r }|j;        tv          j<        k    rÇ Y d}~nd}~ww xY wêåY# 1 swxY w Y   ddd¶  ´         dS # 1 swxY w Y   dS )zRun forkserver.r   NTFc                  Û   ó d S r"   rM   )⁄_unuseds    r   ⁄sigchld_handlerzmain.<locals>.sigchld_handlerº   s   Ä ‡àr    c                 Û@   ó i | ]\  }}|t          j         ||¶  ´        ìåS rM   )⁄signal)r/   ⁄sig⁄vals      r   rQ   zmain.<locals>.<dictcomp>∆   s:   Ä  8 8 8Ÿ"òòc ùú†s®C—0‘0 8 8 8r    )rY   c                 Û"   ó g | ]\  }}|j         ëåS rM   )⁄fileobj)r/   ⁄key⁄eventss      r   ˙
<listcomp>zmain.<locals>.<listcomp>⁄   s   Ä –O–O–O©M®S∞&òCúK–O–O–Or    r   r    zNot at EOF?i   Èˇˇˇˇr   z.forkserver: waitpid returned unexpected pid %dzToo many ({0:n}) fds to send)=r   ⁄current_process⁄_inheritingr   ⁄import_main_path⁄
__import__⁄ImportErrorr	   ⁄_close_stdinr&   r>   ⁄set_blockingrp   ⁄SIGCHLD⁄SIGINT⁄SIG_IGNrT   ⁄set_wakeup_fdr;   r<   ⁄	selectors⁄DefaultSelector⁄getsockname⁄_forkserverr   ⁄register⁄
EVENT_READ⁄select⁄read⁄
SystemExitr(   rR   ⁄ChildProcessError⁄pop⁄waitstatus_to_exitcode⁄write_signed⁄BrokenPipeErrorr'   ⁄warnings⁄warn⁄acceptr   ⁄recvfdsr9   r8   ⁄RuntimeError⁄format⁄fork⁄extend⁄values⁄
_serve_one⁄	Exception⁄sys⁄
excepthook⁄exc_info⁄stderr⁄flush⁄_exit⁄OSError⁄errno⁄ECONNABORTED)⁄listener_fdrc   ⁄preloadrI   rJ   ⁄modname⁄sig_r⁄sig_wrn   ⁄handlers⁄old_handlers⁄	pid_to_fdra   ⁄selector⁄rfdsr]   ⁄stsrD   ⁄
returncode⁄srA   rE   ⁄code⁄
unused_fds⁄fd⁄es                             r   ⁄mainr∑   ß   s∞  Ä ‡ ÿò– – †Y–%:ÿ48çG‘#—%‘%‘1:›‘&†y—1‘1–1Â‘+—-‘-–9–9¯ïG‘+—-‘-–9–9–9–9–9ÿ 	 	àG›ò7—#‘#–#–#¯›   ÿê¯¯¯ı 	‘—‘–Âî7ë9î9ÅLÄEà5›ÑOêEò5—!‘!–!›ÑOêEò5—!‘!–!  ı 	åòÂåïvî~	
ÄH8 8ÿ&.ßn¢n—&6‘&68Ò 8Ù 8ÄLı ‘ò—‘– ÄIÂ	åïvî~®k–	:—	:‘	: Y∏h›	‘	"—	$‘	$Yÿ(0ÿ*2◊*>“*>—*@‘*@ç‘'‡◊“ò(•I‘$8—9‘9–9ÿ◊“ò'•9‘#7—8‘8–8ÿ◊“ò%•‘!5—6‘6–6Q	PÿO–O∏Xø_∫_—=N‘=N–O—O‘OêDÿ ÿ
 òdê?ê?Âú7†7®A—.‘.∞#“5–5–5∞}—5‘5–5›$–$‡òDê=ê=ÂîGòE†5—)‘)–)E"›')§z∞"µb¥j—'A‘'AôHòC††¯›0 " " "ÿ!òE"¯¯¯‡†!ö8ò8ÿ!ÿ"+ß-¢-∞∞T—":‘":òÿ"–.›)+‘)B¿3—)G‘)GòJ%› ,®W∞j— A‘ A– A– A¯›#2 % % %‡ $†%¯¯¯ı úH†W—-‘-–-–-ı %úM +>ÿ@CÒ+DÒ EÙ E E+E0 òt–#—#‡!üö—*‘*®1‘- $-∞Â'‘/∞µ>¿A—3E—F‘Fò›òsô8ú8•n“4–4›".ÿ >◊ E“ E›$'®°H§HÒ!.Ù !.Ò#/Ù #/ / 25–.ò†®3ÿüöô	ú	ò	› úgôiúiòÿ†!ö8ò8‡#$òD/ÿ (ß¢— 0‘ 0– 0ÿ (ß¢— 0‘ 0– 0ÿ.5∞w¿¿u–-M†
ÿ *◊ 1“ 1∞)◊2B“2B—2D‘2D— E‘ E– E›'1∞'∏3ÿ2<ÿ2>Ò(@Ù (@††¯ı $- 3 3 3› #§µ¥±¥– ?– ?› #§
◊ 0“ 0— 2‘ 2– 2– 2– 23¯¯¯ı !#§®°§††¯•§®°§††¯¯¯%› ,®W∞c— :‘ :– :– :¯›#2 % % %‡ $†%¯¯¯ .5òI†côN›úH†W—-‘-–-ÿ&) - -†› "§®°§††I$- $- $-Ò $-Ù $- $- $- $- $- $- $-¯¯¯ $- $- $- $-¯¯ıL    ÿî7ùe‘0“0–0ÿ 1–0–0–0–0¯¯¯¯¯¯¯Ò_Q	Y Y Y Y¯¯¯ Y Y Y Y Y Y YÒ YÙ Y Y Y Y Y Y Y Y¯¯¯ Y Y Y Y Y YsC  ¢A
 ¡
A¡'A7¡7
B¬B≈U≈)B U«*A+T…"I9…8T…9
J T J 6T =KÀTÀ
KÀTÀKÀATÃ*BTœA'P,–+R–,AQ6	—3R—5Q6	—6R—9T“R$	“$T“(R9“8T“9
S	”T”S	”5T”;T‘T‘T‘T‘T‘U‘
T=‘T8‘3U‘8T=‘=U’U	’U’	U	’
U’U’!Uc                 Û`  ó t          j        d¶  ´         |†                    ¶   ´         D ]\  }}t          j         ||¶  ´         å|D ]}t          j        |¶  ´         å|^t
          _        t          j        _	        t
          _
        t          j        | ¶  ´        }t          j        | |¶  ´        }|S )Nrx   )rp   rÉ   rT   r&   r'   rá   r   r   ⁄_resource_tracker⁄_fdr   ⁄dupr   ⁄_main)	rE   rA   r¥   r´   rq   rr   rµ   ⁄parent_sentinelr≥   s	            r   rõ   rõ   +  s¶   Ä Â
‘ò—‘–ÿóNíN—$‘$    âààS›åêcò3—‘––ÿ  à›
åêâåàà %("Ö[‘%›‘'‘+›‘ ı îfòWëoîoÄO›å;êw†—0‘0ÄD‡ÄKr    c                 Û   ó d}t           j        }t          |¶  ´        |k     rNt          j        | |t          |¶  ´        z
  ¶  ´        }|st          d¶  ´        Ç||z  }t          |¶  ´        |k     ∞Nt           †                    |¶  ´        d         S )Nr    zunexpected EOFr   )⁄SIGNED_STRUCT⁄sizer8   r&   rã   ⁄EOFError⁄unpack)rµ   r`   ⁄lengthr≤   s       r   ⁄read_signedrƒ   B  sä   Ä ÿÄD›‘ÄF›
àdâ)å)êf“
–
›åGêBò•†T°§—*—+‘+àÿ 	-›–+—,‘,–,ÿêâ	àı	 àdâ)å)êf“
–
ı
 ◊“†—%‘%†a‘(–(r    c                 ÛÆ   ó t           †                    |¶  ´        }|r8t          j        | |¶  ´        }|dk    rt	          d¶  ´        Ç||d Ö         }|∞6d S d S )Nr   zshould not get here)rø   ⁄packr&   ⁄writerñ   )rµ   ⁄n⁄msg⁄nbytess       r   rê   rê   L  sq   Ä ›
◊
“
òQ—
‘
ÄCÿ
 ›îò"òc—"‘"àÿêQä;à;›–4—5‘5–5ÿê&ê'ê'ålà	      r    )NN) r§   r&   rÑ   rp   r;   ⁄structrù   r   rí   ⁄ r   r   ⁄contextr   r   r   r	   ⁄__all__r9   ⁄Structrø   ⁄objectr   r∑   rõ   rƒ   rê   rá   r
   r   r   r   rM   r    r   ˙<module>r—      s†  ÿ ÄÄÄÿ 	Ä	Ä	Ä	ÿ – – – ÿ ÄÄÄÿ ÄÄÄÿ ÄÄÄÿ 
Ä
Ä
Ä
ÿ – – – ÿ ÄÄÄ‡ – – – – – ÿ – – – – – ÿ – – – – – ÿ – – – – – ÿ – – – – – ÿ – – – – – % % %Ä Äÿêîòc—"‘"ÄA+ A+ A+ A+ A+êÒ A+Ù A+ A+NA A A AH  .) ) )   àjâlålÄÿ‘+Äÿ‘1– ÿ$‘;– ÿ$‘;– – – r                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               